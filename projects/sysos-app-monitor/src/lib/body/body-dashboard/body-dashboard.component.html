<div class="charts-body" role="main" slssScrollSpy [spiedTags]="['H1', 'H2']" (sectionChange)="onSectionChange($event)">
  <div id="charts_div" #chartsDiv>

    <ng-container *ngIf="options && netdataDashboard">

      <ng-container *ngFor="let menu of menus | orderBy:['priority', 'id']; trackBy: trackItemById">
        <div role="section" class="dashboard-section">

          <ng-container *samonNoCheck>
            <div role="sectionhead">
              <h1 id="menu_{{menu.id}}" role="heading" [innerHTML]="menu.icon + ' ' + menu.title"></h1>
            </div>
            <div role="section" class="dashboard-subsection">

              <div *ngIf="menu.info" [innerHTML]="menu.info"></div>

              <!--mhead-->
              <div class="netdata-chart-row">

                <!--mainhead-->
                <div class="w-100" [innerHTML]="headMain(netdataDashboard.os, chartsData.charts, options.duration) | sanitizeHtml"></div>

                <ng-container *ngFor="let submenu of menu.submenus | orderBy:['priority', 'id']; trackBy: trackItemById">
                  <ng-container *ngFor="let chart of submenu.charts | orderBy:['priority', 'id']; trackBy: trackItemById">
                    <div [innerHTML]="generateHeadCharts('mainheads', chart, options.duration) | sanitizeHtml"></div>
                  </ng-container>
                </ng-container>
              </div>

              <!--shtml-->
              <div *ngFor="let submenu of menu.submenus | orderBy:['priority', 'id']; trackBy: trackItemById" role="section" class="dashboard-section-container">
                <h2 id="menu_{{menu.id}}_submenu_{{submenu.id}}" class="netdata-chart-alignment" role="heading">{{submenu.title}}</h2>
                <div *ngIf="submenu.info" class="dashboard-submenu-info netdata-chart-alignment" role="document" [innerHTML]="submenu.info"></div>

                <!--head-->
                <div *ngFor="let chart of submenu.charts | orderBy:['priority', 'id']; trackBy: trackItemById" class="netdata-chart-row">
                  <div [innerHTML]="generateHeadCharts('heads', chart, options.duration) | sanitizeHtml"></div>
                </div>

                <!--chtml-->
                <ng-container *ngFor="let chart of submenu.charts | orderBy:['priority', 'id']; trackBy: trackItemById">
                  <div class="netdata-chartblock-container" style="width: 100%;">
                    <div [innerHTML]="netdataDashboard.contextInfo(chart.context) | sanitizeHtml"></div>
                    <div class="netdata-container" id="chart_{{chart.id}}"
                         attr.data-netdata="{{chart.id}}"
                         data-width="100%"
                         attr.data-url="{{chart.data_url}}"
                         attr.data-height="{{netdataDashboard.contextHeight(chart.context, options.chartsHeight).toString()}}px"
                         attr.data-dygraph-valuerange="{{netdataDashboard.contextValueRange(chart.context)}}"
                         data-before="0"
                         attr.data-after="-{{options.duration.toString()}}"
                         attr.data-id="{{options.hostname}}/{{chart.id}}"
                         attr.data-colors="{{netdataDashboard.anyAttribute(netdataDashboard.context, 'colors', chart.context, '')}}"
                         attr.data-decimal-digits="{{netdataDashboard.contextDecimalDigits(chart.context, -1) }}"
                         [attr.data-common-min]="chartCommonMin(chart.family, chart.context, chart.units) ? chartCommonMin(chart.family, chart.context, chart.units) : null"
                         [attr.data-common-max]="chartCommonMax(chart.family, chart.context, chart.units) ? chartCommonMax(chart.family, chart.context, chart.units) : null"
                         role="application">
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>
          </ng-container>

        </div>
        <hr role="separator"/>
      </ng-container>

    </ng-container>

  </div>
</div>
<div class="sidebar-body hidden-xs hidden-sm hidden-print" id="sidebar-body" role="complementary">
  <nav class="dashboard-sidebar hidden-print hidden-xs hidden-sm" id="sidebar" role="menu">
    <ul class="nav dashboard-sidenav" id="sidebar_ul">

      <li *ngFor="let menu of menus | orderBy:['priority', 'id']; trackBy: trackItemById" [ngClass]="{'active': currentSection.startsWith('menu_' + menu.id)}">
        <a href="#" (click)="scrollToId('menu_' + menu.id);" [innerHTML]="menu.icon + ' ' + menu.title"></a>
        <ul class="nav">

          <li *ngFor="let submenu of menu.submenus | orderBy:['priority', 'id']; trackBy: trackItemById" [ngClass]="{'active': currentSection === 'menu_' + menu.id + '_submenu_' + submenu.id}">
            <a href="#" (click)="scrollToId('menu_' + menu.id + '_submenu_' + submenu.id);">{{submenu.title}}</a>
          </li>

        </ul>
      </li>

      <li style="margin:20px;color:#666;">
        <small *ngIf="chartsData">
          Every {{((chartsData.update_every === 1) ? 'second' : chartsData.update_every.toString() + ' seconds')}}, Netdata collects <b>
          {{chartsData.dimensions_count.toLocaleString()}}</b> metrics, presents them in <b>
          {{chartsData.charts_count.toLocaleString()}}</b> charts and monitors them with <b>
          {{chartsData.alarms_count.toLocaleString()}}</b> alarms. Netdata is using {{memoryUsage()}} MB of memory on <b>
          {{chartsData.hostname.toString()}}</b> for
          {{NETDATA.seconds4human(chartsData.update_every * chartsData.history, {minute: 'minute', minutes: 'minutes', second: 'second', seconds: 'seconds', space: '&nbsp;'})}} of real-time history.
        </small>
      </li>

    </ul>
  </nav>
</div>

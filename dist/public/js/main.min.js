/**
Systems OS - 0.0.1

Copyright (c) 2018 Isart Navarro Farell
License: MIT
*/

$(window).on("load",function(){$(".start-screen").masonry({itemSelector:".masonry-item",columnWidth:128})});var myApp=angular.module("myApp",["btford.socket-io","ngFileUpload","ui.codemirror","ui.bootstrap.contextMenu","toastr","ngSelectable","ui.bootstrap","angular-uuid","oc.lazyLoad","ui.sortable"]);!function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/menu-alerts.html",'<li>         <a >           <i class="menu__icon fa fa-download"></i>           Save         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-folder-open"></i>           Open         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-print"></i>           Print         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-share-alt"></i>           Share         </a>       </li>       <li class="divided">         <a >           <i class="menu__icon fa fa-file"></i>           Format         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-cog"></i>           Settings         </a>       </li>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/body-alerts.html",'<div class="window__body" ng-controller="alertsBodyController as aB">         <div class="window__main no_padding">           <div class="row">             <div class="col-lg-2 col-sm-6">               <div class="panel panel-default b-a-0 bg-gray-dark">                 <div class="panel-heading lit lit bg-success-i">                   <div class="media">                     <div class="media-body">                       <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">OK</span> <small class="text-uppercase text-white">123</small></h1>                     </div>                   </div>                 </div>               </div>             </div>             <div class="col-lg-2 col-sm-6">               <div class="panel panel-default b-a-0 bg-gray-dark">                 <div class="panel-heading lit bg-warning-i">                   <div class="media">                     <div class="media-body">                       <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">WARNING</span> <small class="text-uppercase text-white">123</small></h1>                     </div>                   </div>                 </div>               </div>             </div>             <div class="col-lg-2 col-sm-6">               <div class="panel panel-default b-a-0 bg-gray-dark">                 <div class="panel-heading lit bg-danger-i">                   <div class="media">                     <div class="media-body">                       <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">CRITICAL</span> <small class="text-uppercase text-white">123</small></h1>                     </div>                   </div>                 </div>               </div>             </div>             <div class="col-lg-2 col-sm-6">               <div class="panel panel-default b-a-0 bg-gray-dark">                 <div class="panel-heading lit bg-unknown-i">                   <div class="media">                     <div class="media-body">                       <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">UNKNOWN</span> <small class="text-uppercase text-white">123</small></h1>                     </div>                   </div>                 </div>               </div>             </div>             <div class="col-lg-2 col-sm-6">               <div class="panel panel-default b-a-0 bg-gray-dark">                 <div class="panel-heading lit bg-primary-i">                   <div class="media">                     <div class="media-body">                       <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">ALL PROBLEMS</span> <small class="text-uppercase text-white">123</small></h1>                     </div>                   </div>                 </div>               </div>             </div>             <div class="col-lg-2 col-sm-6">               <div class="panel panel-default b-a-0 bg-gray-dark">                 <div class="panel-heading lit">                   <div class="media">                     <div class="media-body">                       <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">ALL</span> <small class="text-uppercase text-white">123</small></h1>                     </div>                   </div>                 </div>               </div>             </div>           </div>           <table class="table">             <thead>               <tr>                 <th class="small text-muted text-uppercase"><strong>Node</strong></th>                 <th class="small text-muted text-uppercase"><strong>Service</strong></th>                 <th class="small text-muted text-uppercase"><strong>Status</strong></th>                 <th class="small text-muted text-uppercase"><strong>Status information</strong></th>                 <th class="small text-muted text-uppercase"><strong>Last check</strong></th>                 <th class="small text-muted text-uppercase text-right"><strong>Actions</strong></th>               </tr>             </thead>             <tbody>               <tr ng-repeat="connection in aB.connections">                 <td class="v-a-m {{aB.getPingClass(connection)[0]}}">                   <span class="text-white">{{::connection.description}}</span>                   <br>                   <span>{{::connection.host}}</span>                 </td>                 <td class="v-a-m" colspan="5">                   <table class="little-table">                     <tbody>                       <tr class="{{aB.getPingClass(connection)[0]}}">                         <td>                           <span>Ping</span>                         </td>                         <td>                           <span><i class="fa fa-circle-o m-r-1"></i> <span>{{aB.getPingClass(connection)[1]}}</span></span>                         </td>                         <td>                           <span>{{connection.ping}}</span>                         </td>                         <td>                           <span>10-20-2017 15:22:07</span>                         </td>                         <td class="text-right">                           <span><i class="fa fa-refresh m-r-1"></i></span>                         </td>                       </tr>                       <tr class="{{aB.getMemClass(connection)[0]}}">                         <td>                           <span>Memory Usage</span>                         </td>                         <td>                           <span><i class="fa fa-circle-o m-r-1"></i> <span>{{aB.getMemClass(connection)[1]}}</span></span>                         </td>                         <td>                           <span>Total: {{connection.mem[0].total}}MiB - Free: {{connection.mem[0].free}}Mib -> {{(connection.mem[0].free / connection.mem[0].total * 100).toFixed(1)}}%</span>                         </td>                         <td>                           <span>10-20-2017 15:22:07</span>                         </td>                         <td class="text-right">                           <span><i class="fa fa-refresh m-r-1"></i></span>                         </td>                       </tr>                       <tr class="{{aB.getCpuClass(connection)[0]}}">                         <td>                           <span>CPU Load</span>                         </td>                         <td>                           <span><i class="fa fa-circle-o m-r-1"></i> <span>{{aB.getCpuClass(connection)[1]}}</span></span>                         </td>                         <td>                           <span>Load: {{aB.getCpuLoad(connection)}}%</span>                         </td>                         <td>                           <span>10-20-2017 15:22:07</span>                         </td>                         <td class="text-right">                           <span><i class="fa fa-refresh m-r-1"></i></span>                         </td>                       </tr>                       <tr class="{{aB.getDiskClass(disk)[0]}}" ng-repeat="disk in connection.disk">                         <td>                           <span>Disk {{::disk.disk}}</span>                         </td>                         <td>                           <span><i class="fa fa-circle-o m-r-1"></i> <span>{{aB.getDiskClass(disk)[1]}}</span></span>                         </td>                         <td>                           <span>Total: {{disk.size}}iB - Free: {{aB.extractSpace(disk.free_space, 1)}}{{aB.extractSpace(disk.free_space, 2)}} -> {{disk.free_percent}}</span>                         </td>                         <td>                           <span>10-20-2017 15:22:07</span>                         </td>                         <td class="text-right">                           <span><i class="fa fa-refresh m-r-1"></i></span>                         </td>                       </tr>                       <tr class="{{aB.getUpdatesClass(connection)[0]}}">                         <td>                           <span>Updates</span>                         </td>                         <td>                           <span><i class="fa fa-circle-o m-r-1"></i> <span>{{aB.getUpdatesClass(connection)[1]}}</span></span>                         </td>                         <td>                           <span>{{connection.updates.length}} pending updates</span>                         </td>                         <td>                           <span>10-20-2017 15:22:07</span>                         </td>                         <td class="text-right">                           <span><i class="fa fa-refresh m-r-1"></i></span>                         </td>                       </tr>                     </tbody>                   </table>                 </td>               </tr>             </tbody>           </table>         </div>       </div>')}])}(),function(){"use strict";myApp.controller("alertsBodyController",["$scope","smanagerFactory",function(t,e){var a=this;t.$watch(function(){return e.connections()},function(t){a.connections=t}),this.getCpuLoad=function(t){return angular.isUndefined(t)?0:angular.isUndefined(t.cpu)?0:t.cpu.filter(function(t){return"Load average"==t.option})[0].data.split(" ")[0]},this.extractSpace=function(t,e){return 1===e?t.slice(0,-1):2===e?t.substr(t.length-1)+"iB":void 0},this.getPingClass=function(t){return angular.isUndefined(t.ping)?["bg-unknown-i","UNKNOWN"]:"alive"===t.ping?["bg-success-i","OK"]:["bg-danger-i","CRITICAL"]},this.getMemClass=function(t){if(angular.isUndefined(t.mem))return["bg-unknown-i","UNKNOWN"];var e=100-(t.mem[0].free/t.mem[0].total*100).toFixed(1);return e<80?["bg-success-i","OK"]:e<90?["bg-warning-i","WARNING"]:["bg-danger-i","CRITICAL"]},this.getCpuClass=function(t){if(angular.isUndefined(t.cpu))return["bg-unknown-i","UNKNOWN"];var e=a.getCpuLoad(t).slice(0,-1);return e<80?["bg-success-i","OK"]:e<90?["bg-warning-i","WARNING"]:"bg-danger-i"},this.getDiskClass=function(t){if(angular.isUndefined(t))return["bg-unknown-i","UNKNOWN"];var e=this.extractSpace(t.used_percent,1);return e<80?["bg-success-i","OK"]:e<90?["bg-warning-i","WARNING"]:["bg-danger-i","CRITICAL"]},this.getUpdatesClass=function(t){if(angular.isUndefined(t.updates))return["bg-unknown-i","UNKNOWN"];var e=t.updates.length;return e<2?["bg-success-i","OK"]:e<5?["bg-warning-i","WARNING"]:["bg-danger-i","CRITICAL"]}}])}(),function(){"use strict";myApp.run(["ApplicationsFactory",function(t){t.registerApplication({id:"alerts",ico:"bullhorn",name:"Alerts",menu:!0,actions:!0,style:"width:1700px;height:750px;top:8%;left:7%;"})}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/menu-mail.html",'<li>         <a >           <i class="menu__icon fa fa-search"></i>           Search         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-share-alt"></i>           Share         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-plug"></i>           Devices         </a>       </li>       <li class="divided">         <a >           <i class="menu__icon fa fa-cog"></i>           Settings         </a>       </li>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/body-mail.html",'<div class="window__body">         <div class="window__side mailbox-content">           <div class="file-manager">             <a class="btn btn-block btn-primary compose-mail" href="mail_compose.html">Compose Mail</a>             <div class="space-25"></div>             <h5>Folders</h5>             <ul class="folder-list m-b-md" style="padding: 0">                 <li><a href="mailbox.html"> <i class="fa fa-inbox "></i> Inbox <span class="label label-warning pull-right">16</span> </a></li>                 <li><a href="mailbox.html"> <i class="fa fa-envelope-o"></i> Send Mail</a></li>                 <li><a href="mailbox.html"> <i class="fa fa-certificate"></i> Important</a></li>                 <li><a href="mailbox.html"> <i class="fa fa-file-text-o"></i> Drafts <span class="label label-danger pull-right">2</span></a></li>                 <li><a href="mailbox.html"> <i class="fa fa-trash-o"></i> Trash</a></li>             </ul>             <h5>Categories</h5>             <ul class="category-list" style="padding: 0">                 <li><a > <i class="fa fa-circle text-navy"></i> Work </a></li>                 <li><a > <i class="fa fa-circle text-danger"></i> Documents</a></li>                 <li><a > <i class="fa fa-circle text-primary"></i> Social</a></li>                 <li><a > <i class="fa fa-circle text-info"></i> Advertising</a></li>                 <li><a > <i class="fa fa-circle text-warning"></i> Clients</a></li>             </ul>             <h5 class="tag-title">Labels</h5>             <ul class="tag-list" style="padding: 0">                 <li><a href=""><i class="fa fa-tag"></i> Family</a></li>                 <li><a href=""><i class="fa fa-tag"></i> Work</a></li>                 <li><a href=""><i class="fa fa-tag"></i> Home</a></li>                 <li><a href=""><i class="fa fa-tag"></i> Children</a></li>                 <li><a href=""><i class="fa fa-tag"></i> Holidays</a></li>                 <li><a href=""><i class="fa fa-tag"></i> Music</a></li>                 <li><a href=""><i class="fa fa-tag"></i> Photography</a></li>                 <li><a href=""><i class="fa fa-tag"></i> Film</a></li>             </ul>             <div class="clearfix"></div>           </div>         </div>         <div class="window__main">           <div class="mail-box-header">             <form method="get" action="index.html" class="pull-right mail-search">               <div class="input-group">                 <input type="text" class="form-control input-sm" name="search" placeholder="Search email">                 <div class="input-group-btn">                   <button type="submit" class="btn btn-sm btn-primary">                     Search                   </button>                 </div>               </div>             </form>             <h2>               Inbox (16)             </h2>             <div class="mail-tools tooltip-demo m-t-md">               <div class="btn-group pull-right">                 <button class="btn btn-white btn-sm"><i class="fa fa-arrow-left"></i></button>                 <button class="btn btn-white btn-sm"><i class="fa fa-arrow-right"></i></button>               </div>               <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="left" title="Refresh inbox"><i class="fa fa-refresh"></i> Refresh</button>               <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Mark as read"><i class="fa fa-eye"></i> </button>               <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Mark as important"><i class="fa fa-exclamation"></i> </button>               <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Move to trash"><i class="fa fa-trash-o"></i> </button>             </div>             </div>             <div class="mail-box">               <table class="table table-hover table-mail">                 <tbody>                   <tr class="unread">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Anna Smith</a></td>                     <td class="mail-subject"><a href="mail_detail.html">Lorem ipsum dolor noretek imit set.</a></td>                     <td class=""><i class="fa fa-paperclip"></i></td>                     <td class="text-right mail-date">6.10 AM</td>                   </tr>                   <tr class="unread">                     <td class="check-mail">                       <input type="checkbox" class="i-checks" checked>                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Jack Nowak</a></td>                     <td class="mail-subject"><a href="mail_detail.html">Aldus PageMaker including versions of Lorem Ipsum.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">8.22 PM</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Facebook</a> <span class="label label-warning pull-right">Clients</span> </td>                     <td class="mail-subject"><a href="mail_detail.html">Many desktop publishing packages and web page editors.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">Jan 16</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Mailchip</a></td>                     <td class="mail-subject"><a href="mail_detail.html">There are many variations of passages of Lorem Ipsum.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">Mar 22</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Alex T.</a> <span class="label label-danger pull-right">Documents</span></td>                     <td class="mail-subject"><a href="mail_detail.html">Lorem ipsum dolor noretek imit set.</a></td>                     <td class=""><i class="fa fa-paperclip"></i></td>                     <td class="text-right mail-date">December 22</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Monica Ryther</a></td>                     <td class="mail-subject"><a href="mail_detail.html">The standard chunk of Lorem Ipsum used.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">Jun 12</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Sandra Derick</a></td>                     <td class="mail-subject"><a href="mail_detail.html">Contrary to popular belief.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">May 28</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Patrick Pertners</a> <span class="label label-info pull-right">Adv</span></td>                     <td class="mail-subject"><a href="mail_detail.html">If you are going to use a passage of Lorem </a></td>                     <td class=""></td>                     <td class="text-right mail-date">May 28</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Michael Fox</a></td>                     <td class="mail-subject"><a href="mail_detail.html">Humour, or non-characteristic words etc.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">Dec 9</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Damien Ritz</a></td>                     <td class="mail-subject"><a href="mail_detail.html">Oor Lorem Ipsum is that it has a more-or-less normal.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">Jun 11</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Anna Smith</a></td>                     <td class="mail-subject"><a href="mail_detail.html">Lorem ipsum dolor noretek imit set.</a></td>                     <td class=""><i class="fa fa-paperclip"></i></td>                     <td class="text-right mail-date">6.10 AM</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Jack Nowak</a></td>                     <td class="mail-subject"><a href="mail_detail.html">Aldus PageMaker including versions of Lorem Ipsum.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">8.22 PM</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Mailchip</a></td>                     <td class="mail-subject"><a href="mail_detail.html">There are many variations of passages of Lorem Ipsum.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">Mar 22</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Alex T.</a> <span class="label label-warning pull-right">Clients</span></td>                     <td class="mail-subject"><a href="mail_detail.html">Lorem ipsum dolor noretek imit set.</a></td>                     <td class=""><i class="fa fa-paperclip"></i></td>                     <td class="text-right mail-date">December 22</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Monica Ryther</a></td>                     <td class="mail-subject"><a href="mail_detail.html">The standard chunk of Lorem Ipsum used.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">Jun 12</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Sandra Derick</a></td>                     <td class="mail-subject"><a href="mail_detail.html">Contrary to popular belief.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">May 28</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Patrick Pertners</a> </td>                     <td class="mail-subject"><a href="mail_detail.html">If you are going to use a passage of Lorem </a></td>                     <td class=""></td>                     <td class="text-right mail-date">May 28</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Michael Fox</a></td>                     <td class="mail-subject"><a href="mail_detail.html">Humour, or non-characteristic words etc.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">Dec 9</td>                   </tr>                   <tr class="read">                     <td class="check-mail">                       <input type="checkbox" class="i-checks">                     </td>                     <td class="mail-ontact"><a href="mail_detail.html">Damien Ritz</a></td>                     <td class="mail-subject"><a href="mail_detail.html">Oor Lorem Ipsum is that it has a more-or-less normal.</a></td>                     <td class=""></td>                     <td class="text-right mail-date">Jun 11</td>                   </tr>                 </tbody>               </table>             </div>           </div>         </div>       </div>')}])}(),function(){"use strict";myApp.run(["ApplicationsFactory",function(t){t.registerApplication({id:"mail",ico:"envelope",name:"Mail",menu:!0,style:"width:1270px;height:600px;top:5%;left:10%;"})}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/menu-notepad.html",'<li>         <a >           <i class="menu__icon fa fa-download"></i>           Save         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-folder-open"></i>           Open         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-print"></i>           Print         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-share-alt"></i>           Share         </a>       </li>       <li class="divided">         <a >           <i class="menu__icon fa fa-file"></i>           Format         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-cog"></i>           Settings         </a>       </li>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/body-notepad.html",'<div class="window__body" ng-controller="notepadBodyController as nB">         <div class="window__main no_padding">           <textarea class="full-textarea" ui-codemirror="{ onLoad : nB.codemirrorLoaded }" ui-codemirror-opts="nB.editorOptions" ng-model="nB.editorData"></textarea>         </div>       </div>')}])}(),function(){"use strict";myApp.controller("notepadBodyController",["$scope",function(t){var a=this;this.editorData="test",this.editorOptions={lineWrapping:!0,lineNumbers:!0,mode:"shell",matchBrackets:!0,viewportMargin:1/0,autofocus:!0},this.codemirrorLoaded=function(t){t.getDoc();t.focus()},t.$on("notepad__new_data",function(t,e){console.log("newdata"),a.editorData=e})}])}(),function(){"use strict";myApp.run(["ApplicationsFactory",function(t){t.registerApplication({id:"notepad",ico:"pencil",name:"Notepad",menu:!0,style:"width:600px;height:300px;top:10%;left:30%;"})}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/menu-video.html",'<li>         <a >           <i class="menu__icon fa fa-search"></i>           Search         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-share-alt"></i>           Share         </a>       </li>       <li>         <a >           <i class="menu__icon fa fa-plug"></i>           Devices         </a>       </li>       <li class="divided">         <a >           <i class="menu__icon fa fa-cog"></i>           Settings         </a>       </li>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/body-video.html",'<div class="window__body">         <div class="window__main no_padding">           <video class="full_video" src="http://localhost:9001/video" controls></video>         </div>       </div>')}])}(),function(){"use strict";myApp.run(["ApplicationsFactory",function(t){t.registerApplication({id:"video",ico:"play",name:"Video Player",menu:!0,style:"width:1270px;height:600px;top:9%;left:10%;"})}])}(),function(){"use strict";myApp.run(["$rootScope","ServerFactory","ApplicationsFactory","socket","connectionsFactory","$injector","$ocLazyLoad","vmwareFactory",function(t,e,a,n,s,o,i,r){angular.element(window).bind("dragover",function(t){t.preventDefault()}),angular.element(window).bind("drop",function(t){t.preventDefault()}),angular.element(window).bind("contextmenu",function(t){t.preventDefault()}),r.connectvCenterSoap("059bab78-9b0f-41d5-aa54-b5b31d9cf3de","mvcenter01",443).then(function(){}),t.taskbar__item_open=null,a.getInstalledApplications().then(function(t){angular.forEach(t,function(t){var e=t.filename.replace("application__","").replace(".min.js","");i.load({name:e+"App",files:["/getApplicationFile/"+t.filename]}).then(function(){})})}),e.getConfigFile("desktop/task_bar.json",function(t){a.registerTaskBarApplication({id:"start",pinned:!0}),angular.forEach(t.data,function(t){a.registerTaskBarApplication(t)})},function(){console.log("Error")}),e.getSession(function(){n.on("connect",function(){}),n.on("disconnect",function(t){console.log(t),n.io.reconnection(!1)}),n.on("error",function(t){console.log(t)}),n.on("smanager__prop",function(t){var e=o.get("smanagerFactory");angular.isObject(t)&&console.log(t),e.newProp(t)}),n.on("ssh__prop",function(t){var e=o.get("sshFactory");angular.isObject(t)&&console.log(t),e.newProp(t)}),n.on("ssh__data",function(t){o.get("sshFactory").newData(t)}),n.on("sftp__prop",function(t){var e=o.get("sftpFactory");angular.isObject(t)&&console.log(t),e.newProp(t)}),n.on("sftp__data",function(t){o.get("sftpFactory").newData(t)}),n.on("sftp__progress",function(t){o.get("sftpFactory").newProgress(t)})},function(){console.log("error")})}])}(),function(){"use strict";myApp.config(function(t){angular.extend(t,{progressBar:!0,tapToDismiss:!0,timeOut:1e4})})}(),function(){"use strict";myApp.controller("mainController",["$scope","ApplicationsFactory",function(t,e){var a=this;this.opened_applications=e.opened_applications(),t.$watch(function(){return e.opened_applications()},function(t){a.opened_applications=t}),this.handleDesktopClick=function(t){void 0!==t.target.attributes.class&&"desktop ng-scope"===t.target.attributes.class.value&&e.toggleApplication(null)}}])}(),function(){"use strict";myApp.directive("application",[function(){return{restrict:"E",scope:{appId:"="},replace:!0,templateUrl:"templates/applications/main.html",controllerAs:"APP",controller:["$scope","$element","$window","$timeout","ApplicationsFactory",function(t,e,a,n,s){var o=this,i=a.innerHeight-48,r=a.innerWidth;angular.element(a).bind("resize",function(){i=a.innerHeight-48,r=a.innerWidth,o.isMaximized&&e.css({height:i,width:r,top:0,left:0})}),n(function(){o.isOpening=!1},500),this.appId=t.appId,this.appData=s.getApplicationById(this.appId),this.opened_applications=s.opened_applications(),this.isclosing=!1,this.isOpening=!0,this.isMinimized=!1,this.isMaximized=!1,this.isMenuOpened=!1,this.initialHeight=0,this.initialWidth=0,this.initialTop=0,this.initialLeft=0,e.on("click",function(t){s.isActiveApplication(o.appId)||o.isMinimized||s.toggleApplication(o.appId)}),e.resizable({handles:"n,ne,e,se,s,sw,w,nw",stop:function(){e[0].offsetHeight,e[0].offsetWidth,e[0].offsetTop,e[0].offsetLeft}}),e.draggable({handle:".window__titlebar",stop:function(){e[0].offsetHeight,e[0].offsetWidth;var t=e[0].offsetTop;e[0].offsetLeft;t<-5&&o.maximize()},start:function(t,e){s.toggleApplication(o.appId),o.isMaximized&&o.maximize()}}),t.$on("closeApplication",function(t,e){e===o.appId&&o.close()}),t.$on("toggling",function(t,e){return null===e?o.minimize():e===o.appId?o.isMinimized?(s.toggleApplication(e),o.isMinimized=!1):s.isActiveApplication(o.appId)?o.minimize():s.toggleApplication(e):void 0}),this.isVisible=function(){return s.isActiveApplication(o.appId)},this.close=function(){o.isClosing=!0,n(function(){o.isClosing=!1,o.opened_applications=s.closeApplication(o.appId)},500),s.toggleApplication(null)},this.minimize=function(){o.isMinimized=!0,s.toggleApplication(null)},this.maximize=function(){o.isMaximized=!o.isMaximized,o.isMaximized?(o.initialHeight=e[0].offsetHeight,o.initialWidth=e[0].offsetWidth,o.initialTop=e[0].offsetTop,o.initialLeft=e[0].offsetLeft,e.css({height:i,width:r,top:0,left:0})):e.css({height:o.initialHeight,width:o.initialWidth,top:o.initialTop,left:o.initialLeft})},this.toggleMenu=function(){o.isMenuOpened=!o.isMenuOpened}}]}}])}(),function(){"use strict";myApp.directive("donutChart",["$timeout",function(n){return{restrict:"A",link:function(t,e,a){n(function(){console.log(a.peity),e.peity("donut",JSON.parse(a.peity))},100)}}}])}(),function(){"use strict";myApp.directive("includeReplace",[function(){return{require:"ngInclude",restrict:"A",link:function(t,e,a){e.replaceWith(e.children())}}}])}(),function(){"use strict";myApp.directive("lineChart",["$timeout",function(t){return{restrict:"A",link:function(t,e,a){t.$watch(function(){return a.lines},function(t){0!==a.lines.length&&e.sparkline(JSON.parse(t),{width:"100%",height:"80 ",lineWidth:1,lineColor:"#4ca8e1",fillColor:"#2a2a2a",spotRadius:2,spotColor:"",minSpotColor:"",maxSpotColor:"",highlightSpotColor:"#00ffff",normalRangeColor:"#262626",normalRangeMin:-1,normalRangeMax:10})})}}}])}(),function(){"use strict";myApp.directive("setFocus",[function(){return{link:function(t,e){e[0].focus()}}}])}(),function(){"use strict";myApp.directive("startMenu",[function(){return{restrict:"E",scope:{},templateUrl:"templates/desktop/start_menu.html",controllerAs:"SM",controller:["$scope","ApplicationsFactory",function(t,e){var a=this;this.applications=e.applications(),t.$watch(function(){return e.applications()},function(t){a.applications=t}),this.appContextMenu=function(){return[[function(t){return'<span class="fa-stack"><i class="fa fa-stack-2x fa-'+t.application.ico+'"></i></span> Open'},function(t){a.openApplication(t.application.id)},function(){return!0}],null,[function(t){return console.log(t),e.isApplicationPinned(t.application.id)?'<span class="fa-stack"><i class="fa fa-thumb-tack fa-stack-2x"></i><i class="fa fa-ban fa-stack-1x text-danger"></i></span> Unpin from Task Bar':'<span class="fa-stack"><i class="fa fa-stack-2x fa-thumb-tack fa-rotate-90"></i></span> Pin to Task Bar'},function(t){e.registerTaskBarApplication({id:t.application.id,pinned:!e.isApplicationPinned(t.application.id)},!0)},function(){return!0}]]},this.openApplication=function(t){e.openApplication(t),e.toggleApplication(t)},this.openMenu=function(t){if(a.openedMenu===t)return a.openedMenu=null;a.openedMenu=t}}]}}])}(),function(){"use strict";myApp.directive("switch",[function(){return{restrict:"AE",replace:!0,transclude:!0,template:function(t,e){var a="";return a+="<span",a+=' class="switch'+(e.class?" "+e.class:"")+'"',a+=e.ngModel?' ng-click="'+e.disabled+" ? "+e.ngModel+" : "+e.ngModel+"=!"+e.ngModel+(e.ngChange?"; "+e.ngChange+'()"':'"'):"",a+=' ng-class="{ checked:'+e.ngModel+", disabled:"+e.disabled+' }"',a+=">",a+="<small></small>",a+='<input type="checkbox"',a+=e.id?' id="'+e.id+'"':"",a+=e.name?' name="'+e.name+'"':"",a+=e.ngModel?' ng-model="'+e.ngModel+'"':"",a+=' style="display:none" />',a+='<span class="switch-text">',a+=e.on?'<span class="on">'+e.on+"</span>":"",a+=e.off?'<span class="off">'+e.off+"</span>":" ",a+="</span>"}}}])}(),function(){"use strict";myApp.directive("taskBar",[function(){return{restrict:"E",scope:{},templateUrl:"templates/desktop/task_bar.html",controllerAs:"TB",controller:["$rootScope","$scope","$interval","ApplicationsFactory",function(e,a,t,n){var s=this;function o(){var t="",e=new Date,a=e.getHours();t=a<12?"AM":"PM",0===a&&(a=12),12<a&&(a-=12);var n=e.getMinutes();return n<10&&(n="0"+n),a+":"+n+" "+t}t(function(){s.time=o()},1e3),this.time=o(),this.opened_applications=n.opened_applications(),this.taskbar_applications=n.taskbar_applications(),a.$watch(function(){return n.opened_applications()},function(t){s.opened_applications=t}),a.$watch(function(){return n.taskbar_applications()},function(t){s.taskbar_applications=t}),this.sortableOptions={"ui-floating":!0,items:"a:not(.not-sortable)",axis:"x",stop:function(){n.saveTaskBarApplicationsOrder(s.taskbar_applications)}},this.getApplicationById=function(t){return n.getApplicationById(t)},this.appContextMenu=function(t){if("start"!==t)return[[function(t){return'<span class="fa-stack"><i class="fa fa-stack-2x fa-'+s.getApplicationById(t.application.id).ico+'"></i></span> '+s.getApplicationById(t.application.id).name},function(t){s.toggleApplication(t.application.id)},function(){return!0}],null,[function(t){return t.application.pinned?'<span class="fa-stack"><i class="fa fa-thumb-tack fa-stack-2x"></i><i class="fa fa-ban fa-stack-1x text-danger"></i></span> Unpin from Task Bar':'<span class="fa-stack"><i class="fa fa-stack-2x fa-thumb-tack fa-rotate-90"></i></span> Pin to Task Bar'},function(t){n.registerTaskBarApplication({id:t.application.id,pinned:!t.application.pinned},!0)},function(){return!0}],[function(){return'<span class="fa-stack"><i class="fa fa-stack-2x fa-times"></i></span> Close'},function(t){a.$parent.$broadcast("closeApplication",t.application.id)},function(t){return-1!==i(t.application.id)}]]};var i=function(t){return s.opened_applications.map(function(t){return t.id}).indexOf(t)};this.isStartOpened=function(t){return e.taskbar__item_open===t&&"start"===t},this.isItemOpened=function(t){return-1!==i(t)&&"start"!==t},this.isItemActive=function(t){return e.taskbar__item_open===t&&"start"!==t},this.toggleApplication=function(t){if("start"===t)return n.toggleApplication(t);-1===i(t)&&(s.opened_applications=n.openApplication(t),n.toggleApplication(t)),a.$parent.$broadcast("toggling",t)},this.minimizeToDesktop=function(){a.$parent.$broadcast("toggling",null)}}]}}])}(),function(){"use strict";myApp.directive("windowActions",[function(){return{restrict:"E",scope:{app:"="},bindToController:!0,templateUrl:"templates/applications/actions.html",controllerAs:"ACTIONS",controller:[function(){}]}}])}(),function(){"use strict";myApp.directive("windowBody",[function(){return{restrict:"E",scope:{app:"="},bindToController:!0,templateUrl:"templates/applications/body.html",controllerAs:"BODY",controller:[function(){this.toggleList=function(t){angular.element(t.currentTarget.parentElement.parentElement).toggleClass("side__list--open"),angular.element(t.currentTarget.parentElement.nextElementSibling).animate({height:"toggle",opacity:"toggle"},250)}}]}}])}(),function(){"use strict";myApp.directive("windowMenu",[function(){return{restrict:"E",scope:{app:"=",isMenuOpened:"="},bindToController:!0,templateUrl:"templates/applications/menu.html",controllerAs:"MENU",controller:[function(){}]}}])}(),function(){"use strict";myApp.directive("windowStatus",[function(){return{restrict:"E",scope:{app:"="},bindToController:!0,templateUrl:"templates/applications/status.html",controllerAs:"STATUS",controller:[function(){}]}}])}(),function(){"use strict";myApp.factory("ApplicationsFactory",["$rootScope","ServerFactory","toastr","fileSystemFactory",function(e,s,a,t){var o=function(t){return r.map(function(t){return t.id}).indexOf(t)},i=function(t){return l.map(function(t){return t.id}).indexOf(t)},n=[{id:"start",ico:"windows",name:"Start Menu",menu:!0}],r=[],l=[],p=function(t,e){var a=o(t.id);if(-1!==a?!1===t.pinned&&-1===i(t.id)?r.splice(a,1):r[a].pinned=t.pinned:r.push(t),!0===e){var n=r.filter(function(t){return!0===t.pinned&&"start"!==t.id});return s.saveConfigToFile(n,"desktop/task_bar.json",!0)}},c=function(t){return e.taskbar__item_open===t},u=function(e){return n.filter(function(t){return t.id===e})[0]};return{errorHandler:function(t){return a.error(t,"General Error"),new Error(t)},registerApplication:function(t){n.push(t)},applications:function(){return n},registerTaskBarApplication:p,taskbar_applications:function(){return r},opened_applications:function(){return l},closeApplication:function(e){return l=l.filter(function(t){return t.id!==e}),r=r.filter(function(t){return t.id!==e||!0===t.pinned}),l},openApplication:function(t){if(angular.isString(t)&&(t=u(t)),-1===i(t.id))return-1===o(t.id)&&p({id:t.id}),l.push(t),l},toggleApplication:function(t){if(c(t))return e.taskbar__item_open=null;e.taskbar__item_open=t},isActiveApplication:c,isApplicationPinned:function(e){var t=r.filter(function(t){return t.id===e})[0];return!!t&&t.pinned},getApplicationById:u,getInstalledApplications:function(){return t.getFileSystemPath("/bin/applications",function(t){return t})},saveTaskBarApplicationsOrder:function(t){var e=t.filter(function(t){return delete t.$$hashKey,!0===t.pinned&&"start"!==t.id});return s.saveConfigToFile(e,"desktop/task_bar.json",!0)}}}])}(),function(){"use strict";myApp.factory("connectionsFactory",["$rootScope","$injector","$filter","$timeout","socket","ServerFactory","toastr","uuid",function(t,a,i,n,s,o,r,l){var p={standalone:[],virtual:[],storage:[],sftp:[],ssh:[]},c=[],e=[],u=[],d=function(t){var e=v(t).category;return"vmware"===e?"virtual":e},m=function(t){var e;return"standalone"!==t.category&&"virtual"!==t.category&&"storage"!==t.category||(e="applications/smanager/config.json"),"ssh"===t.category&&(e="applications/ssh/config.json"),"sftp"===t.category&&(e="applications/sftp/config.json"),o.saveConfigToFile(t,e,!1,function(t){})},f=function(t,e){var a;if("standalone"===t.category&&("linux"===t.so&&(a=e?p.standalone.push(t)-1:p.standalone.push({uuid:t.uuid,host:t.host,port:t.port,category:t.category,description:t.description,credential:t.credential,so:t.so,autologin:t.autologin,save:!0,folder:t.folder})-1),"snmp"===t.so&&(a=e?p.standalone.push(t)-1:p.standalone.push({uuid:t.uuid,host:t.host,port:t.port,category:t.category,description:t.description,credential:t.credential,so:t.so,autologin:t.autologin,save:!0,folder:t.folder,oids:t.oids})-1),c.push({uuid:t.uuid,object:"_this.connections.standalone["+a+"]"}),!0===t.autologin))return h(t);if("virtual"===t.category){if(e)a=p.virtual.push(t)-1;else{if(0<i("filter")(p.virtual,{host:t.host}).length)return r.error("Node ("+t.host+") already exists. Please modify the existing connection properties or ReScan the node.","Error getting data from vCenter");a=p.virtual.push({uuid:t.uuid,host:t.host,port:t.port,category:t.category,description:t.description,credential:t.credential,save:!0})-1}if(c.push({uuid:t.uuid,object:"_this.connections.virtual["+a+"]"}),!0===t.autologin&&!e)return h(t)}if("storage"===t.category&&"netapp"===t.so){if(e)a=p.storage.push(t)-1;else{if(0<i("filter")(p.storage,{host:t.host}).length)return r.error("Node ("+t.host+") already exists. Please modify the existing connection properties or ReScan the node.","Error getting data from NetApp");a=p.storage.push({uuid:t.uuid,host:t.host,port:t.port,so:t.so,category:t.category,description:t.description,credential:t.credential,autologin:t.autologin,save:!0})-1}if(c.push({uuid:t.uuid,object:"_this.connections.storage["+a+"]"}),!0===t.autologin&&!e)return h(t)}return"ssh"===t.category&&(a=e?p.ssh.push(t)-1:p.ssh.push({uuid:t.uuid,host:t.host,port:t.port,category:t.category,description:t.description,credential:t.credential,type:"new",autologin:t.autologin,save:t.save})-1,c.push({uuid:t.uuid,object:"_this.connections.ssh["+a+"]"}),!t.save||!0===t.save&&!0===t.autologin)?h(t):"sftp"===t.category&&(a=e?p.sftp.push(t)-1:p.sftp.push({uuid:t.uuid,host:t.host,port:t.port,category:t.category,description:t.description,credential:t.credential,type:"new",currentPath:"/",currentData:"",autologin:t.autologin,save:t.save})-1,c.push({uuid:t.uuid,object:"_this.connections.sftp["+a+"]"}),!t.save||!0===t.save&&!0===t.autologin)?h(t):void 0},h=function(e){var t=a.get("smanagerFactory");return e.uuid?("linux"!==e.so&&"snmp"!==e.so||s.emit("session__new","smanager",e.host,e.credential,null,e.uuid,e.so),"virtual"!==e.category||"vCenter"!==e.so&&"ESXi"!==e.so&&"vmware"!==e.so?"storage"===e.category&&"netapp"===e.so?t.getNetAppData(e):("ssh"===e.category&&(e.save&&m(e),u[e.uuid]=new Terminal({cursorBlink:!0}),u[e.uuid].on("data",function(t){s.emit("ssh_session__data",t,e.uuid)}),n(function(){var t=document.getElementById("terminal-container-"+e.uuid);u[e.uuid].open(t,{focus:!0}),s.emit("ssh_session__geometry",u[e.uuid].cols,u[e.uuid].rows,e.uuid),s.emit("session__new","ssh",e.host,e.credential,null,e.uuid)},500)),"sftp"===e.category&&(console.log(e),e.save&&m(e),s.emit("session__new","sftp",e.host,e.credential,null,e.uuid)),e):t.getVMwareData(e)):(e.uuid=l.v4(),f(e))},g=function(t){if(!t)throw new Error("uuid_not_found");var e=d(t);"stfp"!==e&&"ssh"!==e&&"linux"!==e||s.emit("session__disconnect",t),v(t).state="disconnected",v(t).status="Disconnected"},v=function(t){var e=i("filter")(p.standalone,{uuid:t})[0],a=i("filter")(p.virtual,{uuid:t})[0],n=i("filter")(p.storage,{uuid:t})[0],s=i("filter")(p.ssh,{uuid:t})[0],o=i("filter")(p.sftp,{uuid:t})[0];return e||(a||(n||(s||(o||!1))))};return{connections:function(){return p},setSavedConnections:function(t){return angular.forEach(t,function(t){return f(t,!0)})},saveConnection:m,connect:h,disconnectConnection:g,deleteConnection:function(e){if(!e)throw new Error("uuid_not_found");var t,a=d(e);return console.log(e),console.log(a),p[a]=p[a].filter(function(t){return t.uuid!==e}),g(e),"virtual"!==a&&"storage"!==a&&"standalone"!==a||(t="applications/smanager/config.json"),"ssh"===a&&(t="applications/ssh/config.json"),"sftp"===a&&(t="applications/sftp/config.json"),o.deleteConfigFromFile(e,t,!1,function(t){})},getConnectionByUuid:v,getConnectionByCategory:function(t){return p[t]},setUuidMap:function(t){c=t},getUuidMap:function(){return c},getSSHTerminals:function(){return u},saveUuidMap:function(t){return angular.extend(c,c[0],t),o.saveConfigToFile(c,"applications/smanager/map.json",!0,function(t){})},saveLinksMap:function(t){return angular.extend(e,e[0],t),o.saveConfigToFile(e,"applications/smanager/links.json",!0,function(t){})},getObjectByUuidMapping:function(t,e){var a,n="";if(!(a=i("filter")(c,{uuid:t})[0]))return!1;e||(n=a.object);for(var s=0;s<=3&&a.parent;s++){if(!(a=i("filter")(c,{uuid:a.parent})[0]))return!1;0===s&&2<=e||1===s&&3<=e||(n=a.object+"."+n)}return 1<=e?n.slice(0,-1):n}}}])}(),function(){"use strict";myApp.factory("fileSystemFactory",["ServerFactory","Upload","toastr",function(l,a,n){return{getFileSystemPath:function(t,e){return a=t,n=e,l.getFileSystemPath(a,function(t){return n(t.data)},function(t){console.log("Error: "+t)});var a,n},uploadFile:function(t){return(e=t).upload=a.upload({url:"/api/file/upload",method:"POST",headers:{"Content-Type":e.type},data:{file:e,path:e.path}}),e.upload.progress(function(t){e.progress=Math.min(100,parseInt(100*t.loaded/t.total))}),e.upload.then(function(t){return e.result=t.data},function(t){if(0<t.status){var e=t.status+": "+t.data;n.error(e,"Error")}});var e},getFileType:function(t){return"d"===(e=t).charAt(0)?"folder":"l"===e.charAt(0)?"folder":"-"===e.charAt(0)&&"x"===e.charAt(3)?"file-code-o":"-"===e.charAt(0)?"file":void 0;var e},getFileContents:function(t,e){return a=t,n=e,l.getFileContents(a,function(t){return n(t.data)},function(t){console.log("Error: "+t)});var a,n},renameFile:function(t,e,a,n){return s=t,o=e,i=a,r=n,l.renameFile({path:s,oldName:o,newName:i},function(t){return r(t.data)},function(t){console.log("Error: "+t)});var s,o,i,r},createFolder:function(t,e,a){return n=t,s=e,o=a,l.createFolder({path:n,name:s},function(t){return o(t.data)},function(t){console.log("Error: "+t)});var n,s,o},deleteFile:function(t,e,a){return n=t,s=e,o=a,l.deleteFile({path:n,name:s},function(t){return o(t.data)},function(t){console.log("Error: "+t)});var n,s,o},downloadFileFromInet:function(t,e,a){return n=t,s=e,o=a,l.downloadFileFromInet(n,s,function(t){return o(t.data)},function(t){console.log("Error: "+t)});var n,s,o},copyFile:function(t,e,a){return l.copyFile(t,e,function(t){return a(t.data)},function(t){console.log("Error: "+t)})},moveFile:function(t,e,a){return l.moveFile(t,e,function(t){return a(t.data)},function(t){console.log("Error: "+t)})}}}])}(),function(){"use strict";myApp.factory("modalFactory",["$uibModal","$document",function(r,p){var c=[],i=function(t,e,a,l,n,s){var o=angular.element(p[0].querySelector(a)),i="plain"===l?"templates/utils/modal.html":"ESXiSelectable"===l?"templates/utils/ESXiSelectable.html":"question"===l?"templates/utils/question.html":"DatastoreSelectable"===l?"templates/utils/DatastoreSelectable.html":"input"===l?"templates/utils/input.html":"";if(o.length)return c[a]=r.open({templateUrl:i,controller:["$scope","title","text","button_text","inputValue","$uibModalInstance","connectionsFactory",function(a,t,e,n,s,o,i){if(a.title=t,a.text=e,a.button_text=n,a.inputValue=s,a.selectESXihost=function(){o.close(a.selectedHost)},a.selectDatastore=function(){o.close(a.selectedDatastore)},a.yes_input=function(){o.close(a.inputValue)},a.yes=function(){o.close(!0)},a.no=function(){o.close(!1)},"DatastoreSelectable"===l){var r=i.getConnectionByCategory("virtual");a.text=[],angular.forEach(r,function(e){angular.forEach(e.datastores,function(t){a.text.push({name:t.name,id:t.obj.name,credential:e.credential,host:e.host,port:e.port,datacenter:e.datacenters[0].datacenter})})})}}],backdropClass:"absolute",windowClass:"absolute",size:"sm",appendTo:o,resolve:{title:function(){return t},text:function(){return e},button_text:function(){return n},inputValue:function(){return s}}}),c[a]},l=function(t,e){angular.element(p[0].querySelector(e)).length&&(angular.element(p[0].querySelector(e+" .modal")).scope().text=t)};return{openLittleModal:i,openWizardModal:function(t,e,a,n){var s=angular.element(p[0].querySelector(a)),o="recoveryWizard"===n?"templates/utils/recoveryWizard.html":"";if(s.length)return c[a]=r.open({templateUrl:o,controllerAs:"wmC",controller:["title","data","$uibModalInstance","ServerFactory",function(t,e,a,n){var s=this;this.title=t,this.step=1,this.data=e,this.vmName=e.vm.name,this.selectData=function(){a.close({host:s.selectedHost,folder:s.selectedFolder,resource_pool:s.selectedPool,vm_name:s.vmName,vm_power_on:s.powerVM})},this.loadESXidata=function(){var e=i("PLEASE WAIT","Connecting to vCenter...",".modal-recovery-wizard","plain");return n.connectVcenter(s.selectedHost.connection_address,s.selectedHost.connection_credential).then(function(t){if("error"===t.data.status)throw new Error(t.data.data);return l("Getting data...",".modal-recovery-wizard"),n.callVcenter(s.selectedHost.connection_address,"/rest/vcenter/folder?filter.type=VIRTUAL_MACHINE").then(function(t){if("error"===t.data.status)throw new Error(t.data.data);return s.data.folders=t.data.data.response.value,n.callVcenter(s.selectedHost.connection_address,"/rest/vcenter/resource-pool").then(function(t){if("error"===t.data.status)throw new Error(t.data.data);s.data.resource_pools=t.data.data.response.value,e.close()})})})}}],backdropClass:"absolute",windowClass:"absolute",appendTo:s,resolve:{title:function(){return t},data:function(){return e}}}),c[a]},changeModalText:l,closeModal:function(t){c[t]&&c[t].close("ok")}}}])}(),function(){"use strict";myApp.factory("netappFactory",["ApplicationsFactory","ServerFactory","$q","toastr",function(t,u,d,e){var m=function(t,n){return n||(n={}),angular.forEach(t,function(t,a){Array.isArray(t)&&1===t.length&&t[0]!==Object(t[0])?n[a]=t[0]:Array.isArray(t)&&1===t.length&&t[0]===Object(t[0])?n[a]=m(t[0],n[a]):Array.isArray(t)&&1<t.length&&t[0]===Object(t[0])?(n[a]=t,angular.forEach(t,function(t,e){n[a][e]=m(t,n[e])})):n[a]=t}),n},f=function(t){return{status:"error",error:t}},h=function(t){return{status:"ok",data:t}},r=function(a,n,s,o,i,t){var e="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><qtree-list-iter><max-records>10</max-records>"+(t?"<tag>"+t+"</tag>":"")+"</qtree-list-iter></netapp>";return u.callNetApp(a,n,s,null,e).then(function(t){if("error"===t.data.status)return f(t.data.data.errno);if("failed"===t.data.data.response.netapp.results[0].$.status)return f(t.data.data.response.netapp.results[0].$.reason);if(!t.data.data.response.netapp.results[0]["attributes-list"])return h();if(angular.forEach(t.data.data.response.netapp.results[0]["attributes-list"][0]["qtree-info"],function(t){i.push(m(t))}),t.data.data.response.netapp.results[0]["next-tag"]){var e=t.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return r(a,n,s,o,i,e)}return h(i)})},l=function(a,n,s,o,i,t){var e="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><net-interface-get-iter><max-records>10</max-records>"+(t?"<tag>"+t+"</tag>":"")+"</net-interface-get-iter></netapp>";return u.callNetApp(a,n,s,null,e).then(function(t){if("error"===t.data.status)return f(t.data.data.errno);if("failed"===t.data.data.response.netapp.results[0].$.status)return f(t.data.data.response.netapp.results[0].$.reason);if(!t.data.data.response.netapp.results[0]["attributes-list"])return h();if(angular.forEach(t.data.data.response.netapp.results[0]["attributes-list"][0]["net-interface-info"],function(t){i.push(m(t))}),t.data.data.response.netapp.results[0]["next-tag"]){var e=t.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return l(a,n,s,o,i,e)}return h(i)})},p=function(a,n,s,o,i,t){var e="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><fcp-interface-get-iter><max-records>10</max-records>"+(t?"<tag>"+t+"</tag>":"")+"</fcp-interface-get-iter></netapp>";return u.callNetApp(a,n,s,null,e).then(function(t){if("error"===t.data.status)return f(t.data.data.errno);if("failed"===t.data.data.response.netapp.results[0].$.status)return f(t.data.data.response.netapp.results[0].$.reason);if(!t.data.data.response.netapp.results[0]["attributes-list"])return h();if(angular.forEach(t.data.data.response.netapp.results[0]["attributes-list"][0]["fcp-interface-info"],function(t){i.push(m(t))}),t.data.data.response.netapp.results[0]["next-tag"]){var e=t.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return p(a,n,s,o,i,e)}return h(i)})},i=function(a,n,s,o,t){var e="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><vserver-get-iter><max-records>10</max-records>"+(t?"<tag>"+t+"</tag>":"")+"</vserver-get-iter></netapp>";return u.callNetApp(a,n,s,null,e).then(function(t){if("error"===t.data.status)return f(t.data.data.errno);if("failed"===t.data.data.response.netapp.results[0].$.status)return f(t.data.data.response.netapp.results[0].$.reason);if(!t.data.data.response.netapp.results[0]["attributes-list"])return h();if(angular.forEach(t.data.data.response.netapp.results[0]["attributes-list"][0]["vserver-info"],function(t){o.push(m(t))}),t.data.data.response.netapp.results[0]["next-tag"]){var e=t.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return i(a,n,s,o,e)}return h(o)})},c=function(a,n,s,o,i,t){var e="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><volume-get-iter><max-records>10</max-records>"+(t?"<tag>"+t+"</tag>":"")+"</volume-get-iter></netapp>";return u.callNetApp(a,n,s,null,e).then(function(t){if("error"===t.data.status)return f(t.data.data.errno);if("failed"===t.data.data.response.netapp.results[0].$.status)return f(t.data.data.response.netapp.results[0].$.reason);if(!t.data.data.response.netapp.results[0]["attributes-list"])return h();if(angular.forEach(t.data.data.response.netapp.results[0]["attributes-list"][0]["volume-attributes"],function(t){i.push(m(t))}),t.data.data.response.netapp.results[0]["next-tag"]){var e=t.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return c(a,n,s,o,i,e)}return h(i)})},g=function(a,n,s,o,i,r,t){var e="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><snapshot-get-iter><max-records>10</max-records>"+(i?"<query><snapshot-info><volume>"+i+"</volume></snapshot-info></query>":"")+(t?"<tag>"+t+"</tag>":"")+"</snapshot-get-iter></netapp>";return u.callNetApp(a,n,s,null,e).then(function(t){if("error"===t.data.status)return f(t.data.data.errno);if("failed"===t.data.data.response.netapp.results[0].$.status)return f(t.data.data.response.netapp.results[0].$.reason);if(!t.data.data.response.netapp.results[0]["attributes-list"])return h();if(angular.forEach(t.data.data.response.netapp.results[0]["attributes-list"][0]["snapshot-info"],function(t){r.push(m(t))}),t.data.data.response.netapp.results[0]["next-tag"]){var e=t.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return g(a,n,s,o,i,r,e)}return h(r)})},v=function(n,s,o,i,r,l,p,e,t){var c=[];p||(p="");var a="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(i?" vfiler='"+i+"'":"")+"><file-list-directory-iter><path>/vol/"+r+"/.snapshot/"+l+p+"</path>"+(t?"<tag>"+t+"</tag>":"")+"</file-list-directory-iter></netapp>";return u.callNetApp(n,s,o,null,a).then(function(a){if("error"===a.data.status)return f(a.data.data.errno);if("failed"===a.data.data.response.netapp.results[0].$.status)return f(a.data.data.response.netapp.results[0].$.reason);if(!a.data.data.response.netapp.results[0]["attributes-list"])return h();if(angular.forEach(a.data.data.response.netapp.results[0]["attributes-list"][0]["file-info"],function(t){"."!==(t=m(t)).name&&".."!==t.name&&(t.path=p,e.push(t),"directory"===t["file-type"]&&c.push(v(n,s,o,i,r,l,p+"/"+t.name,e)))}),0<c.length)return d.all(c).then(function(t){if(t=t[0].data,a.data.data.response.netapp.results[0]["next-tag"]){var e=a.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return v(n,s,o,i,r,l,p,t,e)}return h(t)});if(a.data.data.response.netapp.results[0]["next-tag"]){var t=a.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return v(n,s,o,i,r,l,p,e,t)}return h(e)})},y=function(a,n,s,o,i,r,t){var e="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><lun-get-iter><max-records>10</max-records>"+(i?"<query><lun-info><volume>"+i+"</volume></lun-info></query>":"")+(t?"<tag>"+t+"</tag>":"")+"</lun-get-iter></netapp>";return u.callNetApp(a,n,s,null,e).then(function(t){if("error"===t.data.status)return f(t.data.data.errno);if("failed"===t.data.data.response.netapp.results[0].$.status)return f(t.data.data.response.netapp.results[0].$.reason);if(!t.data.data.response.netapp.results[0]["attributes-list"])return h();if(angular.forEach(t.data.data.response.netapp.results[0]["attributes-list"][0]["lun-info"],function(t){r.push(m(t))}),t.data.data.response.netapp.results[0]["next-tag"]){var e=t.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return y(a,n,s,o,i,r,e)}return h(r)})};return{getSystemVersion:function(t,e,a){return u.callNetApp(t,e,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><system-get-version/></netapp>").then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):h({build_timestamp:t.data.data.response.netapp.results[0]["build-timestamp"][0],is_clustered:t.data.data.response.netapp.results[0]["is-clustered"][0],version:t.data.data.response.netapp.results[0].version[0],version_tuple:{generation:t.data.data.response.netapp.results[0]["version-tuple"][0]["system-version-tuple"][0].generation[0],major:t.data.data.response.netapp.results[0]["version-tuple"][0]["system-version-tuple"][0].major[0],minor:t.data.data.response.netapp.results[0]["version-tuple"][0]["system-version-tuple"][0].minor[0]}})})},getOntapiVersion:function(t,e,a){return u.callNetApp(t,e,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><system-get-ontapi-version/></netapp>").then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):h({major_version:t.data.data.response.netapp.results[0]["major-version"][0],minor_version:t.data.data.response.netapp.results[0]["minor-version"][0]})})},getLicenses:function(t,e,a){return u.callNetApp(t,e,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><license-v2-status-list-info/></netapp>").then(function(t){if("error"===t.data.status)return f(t.data.data.errno);if("failed"===t.data.data.response.netapp.results[0].$.status)return f(t.data.data.response.netapp.results[0].$.reason);var e=[];return angular.forEach(t.data.data.response.netapp.results[0]["license-v2-status"][0]["license-v2-status-info"],function(t){e.push(m(t))}),h(e)})},getMetrocluster:function(t,e,a){return u.callNetApp(t,e,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><metrocluster-get/></netapp>").then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):h({local_cluster_name:t.data.data.response.netapp.results[0].attributes[0]["metrocluster-info"][0]["local-cluster-name"][0],local_configuration_state:t.data.data.response.netapp.results[0].attributes[0]["metrocluster-info"][0]["local-configuration-state"][0]})})},getClusterIdentity:function(t,e,a){return u.callNetApp(t,e,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><cluster-identity-get/></netapp>").then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):h({cluster_contact:t.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["cluster-contact"][0],cluster_location:t.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["cluster-location"][0],cluster_name:t.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["cluster-name"][0],cluster_serial_number:t.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["cluster-serial-number"][0],cluster_uuid:t.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["cluster-uuid"][0],rdb_uuid:t.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["rdb-uuid"][0]})})},getQtrees:function(t,e,a,n){return r(t,e,a,n,[])},getNetInterfaces:function(t,e,a,n){return l(t,e,a,n,[])},getFcpInterfaces:function(t,e,a,n){return p(t,e,a,n,[])},getNFSStatus:function(t,e,a,n){return u.callNetApp(t,e,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><nfs-status/></netapp>").then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):h({is_drained:t.data.data.response.netapp.results[0]["is-drained"][0],is_enabled:t.data.data.response.netapp.results[0]["is-enabled"][0]})})},getVservers:function(t,e,a){return i(t,e,a,[])},getVolumes:function(t,e,a,n){return c(t,e,a,n,[])},getSnapshots:function(t,e,a,n,s){return g(t,e,a,n,s,[])},getSnapshotFiles:function(t,e,a,n,s,o){return v(t,e,a,n,s,o,"",[])},getLuns:function(t,e,a,n,s){return y(t,e,a,n,s,[])},getFileInfo:function(t,e,a,n,s,o){var i="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><file-get-file-info><path>/vol/"+s+"/.snapshot/"+o+"</path></file-get-file-info></netapp>";return u.callNetApp(t,e,a,null,i).then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):h(t)})},cloneVolumeFromSnapshot:function(t,e,a,n,s,o){var i="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><volume-clone-create><parent-volume>"+s+"</parent-volume><volume>SysOS_"+s+"_Restore</volume><space-reserve>none</space-reserve><parent-snapshot>"+o+"</parent-snapshot></volume-clone-create></netapp>";return u.callNetApp(t,e,a,null,i).then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):h(t.data.data.response.netapp.results[0].$.status)})},mountVolume:function(t,e,a,n,s){var o="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><volume-mount><activate-junction>true</activate-junction><junction-path>/SysOS_"+s+"_Restore</junction-path><volume-name>SysOS_"+s+"_Restore</volume-name><export-policy-override>false</export-policy-override></volume-mount></netapp>";return u.callNetApp(t,e,a,null,o).then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):h(t.data.data.response.netapp.results[0].$.status)})},unmountVolume:function(t,e,a,n,s){var o="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><volume-unmount><volume-name>SysOS_"+s+"_Restore</volume-name><force>True</force></volume-unmount></netapp>";return u.callNetApp(t,e,a,null,o).then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):h(t.data.data.response.netapp.results[0].$.status)})},setVolumeOffline:function(t,e,a,n,s){var o="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><volume-offline><name>SysOS_"+s+"_Restore</name></volume-offline></netapp>";return u.callNetApp(t,e,a,null,o).then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):h(t.data.data.response.netapp.results[0].$.status)})},destroyVolume:function(t,e,a,n,s){var o="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><volume-destroy><name>SysOS_"+s+"_Restore</name></volume-destroy></netapp>";return u.callNetApp(t,e,a,null,o).then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):h(t.data.data.response.netapp.results[0].$.status)})},createSnapshot:function(t,e,a,n,s){},getNFSExportRulesList:function(t,e,a,n,s){var o=[],i="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><nfs-exportfs-list-rules-2><pathname>/"+s+"</pathname><persistent>True</persistent></nfs-exportfs-list-rules-2></netapp>";return u.callNetApp(t,e,a,null,i).then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):(angular.forEach(t.data.data.response.netapp.results[0].rules[0]["exports-rule-info-2"][0]["security-rules"][0]["security-rule-info"],function(t){o.push(m(t))}),console.log("getNFSExportRulesList",o),h(t))})},getExportRules:function(t,e,a,n,s){var o=[],i="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><export-rule-get-iter>"+(s?"<query><export-rule-info><policy-name>"+s+"</policy-name></export-rule-info></query>":"")+"</export-rule-get-iter></netapp>";return u.callNetApp(t,e,a,null,i).then(function(t){return"error"===t.data.status?f(t.data.data.errno):"failed"===t.data.data.response.netapp.results[0].$.status?f(t.data.data.response.netapp.results[0].$.reason):(angular.forEach(t.data.data.response.netapp.results[0]["attributes-list"][0]["export-rule-info"],function(t){o.push(m(t))}),console.log("getExportRules",o),h(t))})}}}])}(),function(){"use strict";myApp.factory("vmwareFactory",["ApplicationsFactory","ServerFactory","$q","$timeout","toastr",function(t,u,e,d,a){var m=function(t){var n={};return t===Object(t)&&2===Object.keys(t).length&&t.hasOwnProperty("name")&&t.hasOwnProperty("val")?void 0===t[t.name[0]]?n[t.name[0]]=m(t.val):n[t[t.name[0]]]=m(t.val):t===Object(t)&&2===Object.keys(t).length&&t.hasOwnProperty("$")&&t.hasOwnProperty("_")?t.$.type?(n.type=t.$.type,n.name=t._):n=t._:angular.forEach(t,function(e,t){if(e===Object(e)&&2===Object.keys(e).length&&e.hasOwnProperty("$")&&e.hasOwnProperty("_"))return e.$.type?(n.type=e.$.type,n.name=e._):n=e._,n;if(Array.isArray(e)&&1===e.length&&e[0]!==Object(e[0]))n[t]=e[0];else if(Array.isArray(e)&&1===e.length&&e[0]===Object(e[0]))n[t]=m(e[0]);else{if(e!==Object(e)||1!==Object.keys(e).length||!e.hasOwnProperty("xsi:type"))return e===Object(e)?angular.forEach(e,function(t,a){Array.isArray(t)&&1===t.length&&t[0]!==Object(t[0])?n[a]=t[0]:Array.isArray(t)&&1===t.length&&t[0]===Object(t[0])?n[a]=m(t[0]):"$"===a&&t===Object(t)&&1===Object.keys(t).length&&t.hasOwnProperty("xsi:type")?console.log(t):t===Object(t)&&2===Object.keys(t).length&&t.hasOwnProperty("name")&&t.hasOwnProperty("val")?n[t.name[0]]=m(t.val):Array.isArray(t)&&1<t.length&&t[0]===Object(t[0])?(n[a]=t,angular.forEach(t,function(t,e){n[a][e]=m(t)})):t===Object(t)?n[a]=m(t):"string"==typeof t||(n[a]=t,console.log(e,t,a,t===Object(t),t.length,t.hasOwnProperty("xsi:type"),Array.isArray(t),"errrrrr parsing"))}):(console.log(e,t,"errrrrr2 parsing"),n[t]=e),n;n.xsi_type=e["xsi:type"]}}),n},f=function(t){return{status:"error",error:t}},h=function(t){return{status:"ok",data:t}},g=function(r,l,p,c){var t='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>Task</type><pathSet>info.progress</pathSet><pathSet>info.state</pathSet><pathSet>info.cancelable</pathSet></propSet><objectSet><obj type="Task">'+c+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return u.callVcenterSoap(r,l,p,"urn:vim25/6.0",t).then(function(t){if("error"===t.data.status)return f(t.data.data);var e,a,n,s,o,i=m(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0]);return"running"===i["info.state"]?(console.log(i),d(function(){return g(r,l,p,c)},2e3)):(e=r,a=l,n=p,s=c,o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>Task</type><pathSet>info</pathSet></propSet><objectSet><obj type="Task">'+s+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>",u.callVcenterSoap(e,a,n,"urn:vim25/6.0",o).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=[];return angular.forEach(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(t){e.push(m(t))}),e})).then(function(t){return t})})};return{getClientVersion:function(t,e){return u.getVMwareClientVersion(t,e).then(function(t){return"error"===t.data.status?f(t.data.data):h(t.data.data.response.ConfigRoot.clientConnection[0])})},connectvCenterSoap:function(t,e,a){return u.connectvCenterSoap(t,e,a).then(function(t){return"error"===t.data.status?f(t.data.data):h(t.data)})},acquireVMTicket:function(t,e,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><AcquireTicket xmlns="urn:vim25"><_this type="VirtualMachine">'+n+'</_this><ticketType xsi:type="xsd:string">webmks</ticketType></AcquireTicket></soap:Body></soap:Envelope>';return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",s).then(function(t){return"error"===t.data.status?f(t.data.data):h(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].AcquireTicketResponse[0].returnval[0])})},acquireNFCTicket:function(t,e,a,n,s){var o='<?xml version="1.0" encoding="UTF-8"?><SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:vim="urn:internalvim25"><SOAP-ENV:Body><vim:NfcFileManagement xsi:type="vim:NfcFileManagementRequestType"><vim:_this xsi:type="vim:ManagedObjectReference" type="NfcService">nfcService</vim:_this><vim:ds xsi:type="vim:ManagedObjectReference" type="Datastore">'+s+'</vim:ds><vim:hostForAccess xsi:type="vim:ManagedObjectReference" type="HostSystem">'+n+"</vim:hostForAccess></vim:NfcFileManagement></SOAP-ENV:Body></SOAP-ENV:Envelope>";return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",o).then(function(t){return"error"===t.data.status?f(t.data.data):h(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].NfcFileManagementResponse[0].returnval[0])})},getHostConnectionState:function(t,e,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>HostSystem</type><all>false</all><pathSet>runtime.connectionState</pathSet></propSet><objectSet><obj type="HostSystem">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",s).then(function(t){return"error"===t.data.status?f(t.data.data):h(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0].propSet[0].val[0]._)})},getHostConfigManagerNetworkSystem:function(t,e,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>HostSystem</type><all>false</all><pathSet>configManager.networkSystem</pathSet></propSet><objectSet><obj type="HostSystem">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",s).then(function(t){return"error"===t.data.status?f(t.data.data):h(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0].propSet[0].val[0]._)})},getHostConfigManagerDatastoreSystem:function(t,e,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>HostSystem</type><all>false</all><pathSet>configManager.datastoreSystem</pathSet></propSet><objectSet><obj type="HostSystem">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",s).then(function(t){return"error"===t.data.status?f(t.data.data):h(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0].propSet[0].val[0]._)})},getHostNetworkInfoVnic:function(t,e,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>HostNetworkSystem</type><pathSet>networkInfo.vnic</pathSet></propSet><objectSet><obj type="HostNetworkSystem">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",s).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=[];return angular.forEach(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(t){e.push(m(t))}),h(e)})},getHostNetworkInfoConsoleVnic:function(t,e,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>HostNetworkSystem</type><pathSet>networkInfo.consoleVnic</pathSet></propSet><objectSet><obj type="HostNetworkSystem">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",s).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=[];return angular.forEach(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(t){e.push(m(t))}),h(e)})},getDatastores:function(t,e,a){return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",'<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet xsi:type="PropertyFilterSpec"><propSet xsi:type="PropertySpec"><type xsi:type="xsd:string">Datastore</type><all xsi:type="xsd:boolean">0</all><pathSet xsi:type="xsd:string">browser</pathSet><pathSet xsi:type="xsd:string">info</pathSet><pathSet xsi:type="xsd:string">name</pathSet><pathSet xsi:type="xsd:string">summary</pathSet></propSet><objectSet xsi:type="ObjectSpec"><obj type="Folder" xsi:type="ManagedObjectReference">group-d1</obj><skip xsi:type="xsd:boolean">0</skip><selectSet xsi:type="TraversalSpec"><type xsi:type="xsd:string">Folder</type><path xsi:type="xsd:string">childEntity</path><skip xsi:type="xsd:boolean">0</skip><selectSet xsi:type="TraversalSpec"><type xsi:type="xsd:string">Datacenter</type><path xsi:type="xsd:string">datastore</path><skip xsi:type="xsd:boolean">0</skip></selectSet></selectSet></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>').then(function(t){if("error"===t.data.status)return f(t.data.data);var e=[];return angular.forEach(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(t){e.push(m(t))}),h(e)})},getDatastoreProps:function(t,e,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>Datastore</type><all>false</all><pathSet>browser</pathSet><pathSet>info.name</pathSet><pathSet>info.url</pathSet><pathSet>summary.capacity</pathSet><pathSet>summary.freeSpace</pathSet><pathSet>summary.type</pathSet><pathSet>capability</pathSet><pathSet>capability.topLevelDirectoryCreateSupported</pathSet></propSet><objectSet><obj type="Datastore">'+n+"</obj><skip>false</skip></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",s).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=[];return angular.forEach(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(t){e.push(m(t))}),h(e)})},getVMFileDataFromDatastore:function(a,n,s,t,e,o,i){var r='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><SearchDatastore_Task xmlns="urn:vim25"><_this type="HostDatastoreBrowser">datastoreBrowser-'+t+"</_this><datastorePath>["+e+"]"+o+'</datastorePath><searchSpec><query xsi:type="FolderFileQuery" /><query /><details><fileType>true</fileType><fileSize>true</fileSize><modification>true</modification><fileOwner>false</fileOwner></details><matchPattern>'+i+"</matchPattern></searchSpec></SearchDatastore_Task></soap:Body></soap:Envelope>";return u.callVcenterSoap(a,n,s,"urn:vim25/6.0",r).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].SearchDatastore_TaskResponse[0].returnval[0]._;return g(a,n,s,e).then(function(t){return h(t)})})},getFilesDataFromDatastore:function(a,n,s,t,e,o){var i='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><SearchDatastore_Task xmlns="urn:vim25"><_this type="HostDatastoreBrowser">datastoreBrowser-'+t+"</_this><datastorePath>["+e+"]"+o+'</datastorePath><searchSpec><query xsi:type="FolderFileQuery" /><query /><details><fileType>true</fileType><fileSize>true</fileSize><modification>true</modification><fileOwner>false</fileOwner></details><sortFoldersFirst>true</sortFoldersFirst></searchSpec></SearchDatastore_Task></soap:Body></soap:Envelope>';return u.callVcenterSoap(a,n,s,"urn:vim25/6.0",i).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].SearchDatastore_TaskResponse[0].returnval[0]._;return g(a,n,s,e).then(function(t){return h(t)})})},deleteFileFromDatastore:function(a,n,s,t,e,o){var i='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><DeleteDatastoreFile_Task xmlns="urn:vim25"><_this type="FileManager">FileManager</_this><name>['+t+"] "+e+'</name><datacenter type="Datacenter">'+o+"</datacenter></DeleteDatastoreFile_Task></soap:Body></soap:Envelope>";return u.callVcenterSoap(a,n,s,"urn:vim25/6.0",i).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].DeleteDatastoreFile_TaskResponse[0].returnval[0]._;return g(a,n,s,e).then(function(t){return h(t)})})},moveFileFromDatastore:function(a,n,s,t,e,o,i,r,l,p){var c='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><MoveDatastoreFile_Task xmlns="urn:vim25"><_this type="FileManager">FileManager</_this><sourceName>['+t+"] "+e+'</sourceName><sourceDatacenter type="Datacenter">'+o+"</sourceDatacenter><destinationName>["+i+"] "+r+'</destinationName><destinationDatacenter type="Datacenter">'+l+"</destinationDatacenter>"+(p?"<force>true</force>":"")+"</MoveDatastoreFile_Task></soap:Body></soap:Envelope>";return u.callVcenterSoap(a,n,s,"urn:vim25/6.0",c).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].MoveDatastoreFile_TaskResponse[0].returnval[0]._;return g(a,n,s,e).then(function(t){return h(t)})})},copyFileFromDatastore:function(a,n,s,t,e,o,i,r,l,p){var c='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><CopyDatastoreFile_Task xmlns="urn:vim25"><_this type="FileManager">FileManager</_this><sourceName>['+t+"] "+e+'</sourceName><sourceDatacenter type="Datacenter">'+o+"</sourceDatacenter><destinationName>["+i+"] "+r+'</destinationName><destinationDatacenter type="Datacenter">'+l+"</destinationDatacenter>"+(p?"<force>true</force>":"")+"</CopyDatastoreFile_Task></soap:Body></soap:Envelope>";return u.callVcenterSoap(a,n,s,"urn:vim25/6.0",c).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].CopyDatastoreFile_TaskResponse[0].returnval[0]._;return g(a,n,s,e).then(function(t){return h(t)})})},createFolderToDatastore:function(t,e,a,n,s,o){var i='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><MakeDirectory xmlns="urn:vim25"><_this type="FileManager">FileManager</_this><name>['+n+"] "+s+'</name><datacenter type="Datacenter">'+o+"</datacenter><createParentDirectories>true</createParentDirectories></MakeDirectory></soap:Body></soap:Envelope>";return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",i).then(function(t){return"error"===t.data.status?f(t.data.data):t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].MakeDirectoryResponse[0]})},mountDatastore:function(t,e,a,n,s,o,i){var r='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><CreateNasDatastore xmlns="urn:vim25"><_this type="HostDatastoreSystem">'+n+"</_this><spec><remoteHost>"+s+"</remoteHost><remotePath>/"+o+"/</remotePath><localPath>"+i+"</localPath><accessMode>readWrite</accessMode></spec></CreateNasDatastore></soap:Body></soap:Envelope>";return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",r).then(function(t){return"error"===t.data.status?f(t.data.data):h(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].CreateNasDatastoreResponse[0].returnval[0]._)})},unmountDatastore:function(t,e,a,n,s){var o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RemoveDatastore xmlns="urn:vim25"><_this type="HostDatastoreSystem">'+n+'</_this><datastore type="Datastore">'+s+"</datastore></RemoveDatastore></soap:Body></soap:Envelope>";return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",o).then(function(t){return"error"===t.data.status?f(t.data.data):t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?h(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):h(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RemoveDatastoreResponse[0])})},getVMState:function(t,e,a,n,s){var o;return s&&(o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>VirtualMachine</type><all>true</all></propSet><objectSet><obj type="VirtualMachine">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>"),o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>VirtualMachine</type><all>false</all><pathSet>name</pathSet><pathSet>guest</pathSet><pathSet>runtime.powerState</pathSet><pathSet>summary.config</pathSet><pathSet>summary.quickStats</pathSet><pathSet>guestHeartbeatStatus</pathSet></propSet><objectSet><obj type="VirtualMachine">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>",u.callVcenterSoap(t,e,a,"urn:vim25/6.0",o).then(function(t){return"error"===t.data.status?f(t.data.data):t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?h(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):h(m(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0]))})},registerVM:function(a,n,s,t,e,o,i,r){var l='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RegisterVM_Task xmlns="urn:vim25"><_this type="Folder">'+i+"</_this><path>"+e+"</path><name>"+o+'</name><asTemplate>false</asTemplate><pool type="ResourcePool">'+r+'</pool><host type="HostSystem">'+t+"</host></RegisterVM_Task></soap:Body></soap:Envelope>";return u.callVcenterSoap(a,n,s,"urn:vim25/6.0",l).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RegisterVM_TaskResponse[0].returnval[0]._;return g(a,n,s,e).then(function(t){return"success"!==t[0].propSet.info.state?f(t[0].propSet.info):h(t[0].propSet.info)})})},unregisterVM:function(t,e,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><UnregisterVM xmlns="urn:vim25"><_this type="VirtualMachine">'+n+"</_this></UnregisterVM></soap:Body></soap:Envelope>";return u.callVcenterSoap(t,e,a,"urn:vim25/6.0",s).then(function(t){return"error"===t.data.status?f(t.data.data):t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?h(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):h(t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].UnregisterVMResponse[0])})},powerOnVM:function(a,n,s,t,e){var o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><PowerOnVM_Task xmlns="urn:vim25"><_this type="VirtualMachine">'+e+'</_this><host type="HostSystem">'+t+"</host></PowerOnVM_Task></soap:Body></soap:Envelope>";return u.callVcenterSoap(a,n,s,"urn:vim25/6.0",o).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].PowerOnVM_TaskResponse[0].returnval[0]._;return g(a,n,s,e).then(function(t){return h(t)})})},powerOffVM:function(a,n,s,t){var e='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><PowerOffVM_Task xmlns="urn:vim25"><_this type="VirtualMachine">'+t+"</_this></PowerOffVM_Task></soap:Body></soap:Envelope>";return u.callVcenterSoap(a,n,s,"urn:vim25/6.0",e).then(function(t){if("error"===t.data.status)return f(t.data.data);var e=t.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].PowerOffVM_TaskResponse[0].returnval[0]._;return g(a,n,s,e).then(function(t){return h(t)})})}}}])}(),function(){"use strict";myApp.factory("remoteFileSystemFactory",["ServerFactory",function(l){return{getPath:function(t,e,a){return n=t,s=e,o=a,l.getRemotePath(n,s,function(t){return o(t.data.data)},function(t){console.log("Error: "+t)});var n,s,o},createFolder:function(t,e,a){return n=t,s=e,o=a,l.createRemoteFolder(n,s,function(t){return o(t.data.data)},function(t){console.log("Error: "+t)});var n,s,o},downloadFileFromInet:function(t,e,a,n){return s=t,o=e,i=a,r=n,l.remoteDownloadFileFromInet(s,o,i,function(t){return r(t)},function(t){console.log("Error: "+t)});var s,o,i,r},deleteFile:function(t,e,a){return n=t,s=e,o=a,l.deleteRemoteFile(n,s,function(t){return o(t.data.data)},function(t){console.log("Error: "+t)});var n,s,o},renameFile:function(t,e,a,n){return s=t,o=e,i=a,r=n,l.renameRemoteFile(s,o,i,function(t){return r(t.data.data)},function(t){console.log("Error: "+t)});var s,o,i,r},copyFile:function(t,e,a,n){return l.copyRemoteFile(t,e,a,function(t){return n(t.data.data)},function(t){console.log("Error: "+t)})},moveFile:function(t,e,a,n){return l.moveRemoteFile(t,e,a,function(t){return n(t.data.data)},function(t){console.log("Error: "+t)})}}}])}(),function(){"use strict";myApp.factory("ServerFactory",["$http",function(s){var a=function(t,e,a){return s.get(t).then(e,a)},r=function(t,e,a,n){return s.post(t,e).then(a,n)};return{getSession:function(t,e){return a("/getSession",t,e)},getFileSystemPath:function(t,e,a){return r("/api/folder/get",{path:t},e,a)},getRemotePath:function(t,e,a,n){return r("/api/remoteFolder/get",{uuid:t,path:e},a,n)},createFolder:function(t,e,a){return r("/api/folder/create",t,e,a)},createRemoteFolder:function(t,e,a,n){return r("/api/remoteFolder/create",{uuid:t,path:e},a,n)},getFileContents:function(t,e,a){return r("/api/file/get",{name:t},e,a)},renameFile:function(t,e,a){return r("/api/file/rename",t,e,a)},renameRemoteFile:function(t,e,a,n,s){return r("/api/remoteFile/rename",{uuid:t,source:e,dest:a},n,s)},deleteFile:function(t,e,a){return r("/api/file/delete",t,e,a)},deleteRemoteFile:function(t,e,a,n){return r("/api/remoteFile/delete",{uuid:t,path:e},a,n)},downloadFileFromInet:function(t,e,a,n){return r("/api/file/download_from_url",{url:t,path:e},a,n)},remoteDownloadFileFromInet:function(t,e,a,n,s){return r("/api/remoteFile/download_from_url",{url:t,path:e,uuid:a},n,s)},copyFile:function(t,e,a,n){return r("/api/file/copy",{src:t,dst:e},a,n)},copyRemoteFile:function(t,e,a,n,s){return r("/api/remoteFile/copy",{uuid:t,src:e,dst:a},n,s)},moveFile:function(t,e,a,n){return r("/api/file/move",{src:t,dst:e},a,n)},moveRemoteFile:function(t,e,a,n,s){return r("/api/remoteFile/move",{uuid:t,src:e,dst:a},n,s)},saveConfigToFile:function(t,e,a,n,s){return r("/api/configFiles/save",{data:t,file:e,full_save:a},n,s)},getConfigFile:function(t,e,a){return r("/api/configFiles/get",{file:t},e,a)},deleteConfigFromFile:function(t,e,a,n){return r("/api/configFiles/delete",{uuid:t,file:e},a,n)},applicationInitCredentials:function(t,e){return a("/application/cmanager/init",t,e)},remoteGetRelease:function(t,e,a){return r("/api/remoteServer/get_release",{uuid:t},e,a)},remoteGetKernel:function(t,e,a){return r("/api/remoteServer/get_kernel",{uuid:t},e,a)},remoteGetCpu:function(t,e,a){return r("/api/remoteServer/get_cpu",{uuid:t},e,a)},remoteGetMem:function(t,e,a){return r("/api/remoteServer/get_mem",{uuid:t},e,a)},remoteGetDisk:function(t,e,a){return r("/api/remoteServer/get_disk",{uuid:t},e,a)},remoteGetUpdates:function(t,e,a){return r("/api/remoteServer/get_updates",{uuid:t},e,a)},remoteGetProcesses:function(t,e,a){return r("/api/remoteServer/get_processes",{uuid:t},e,a)},remoteGetInterfaces:function(t,e,a){return r("/api/remoteServer/get_interfaces",{uuid:t},e,a)},remoteGetInterfaceBandwidth:function(t,e,a,n){return r("/api/remoteServer/get_interface_bandwidth",{uuid:t,interface:e},a,n)},runHIDS:function(t,e,a){return r("/api/remoteServer/run_hids",{uuid:t},e,a)},doPing:function(t,e,a,n){return r("/api/remoteServer/do_ping",{uuid:t,host:e},a,n)},remoteDoSnmp:function(t,e,a,n){return r("/api/remoteServer/do_snmp",{uuid:t,oid:e},a,n)},getVMwareClientVersion:function(t,e,a,n){return r("/api/vcenter/getClientVersion",{host:t,port:e},a,n)},connectVcenter:function(t,e,a,n){return r("/api/vcenter/connect",{host:t,credential:e},a,n)},connectvCenterSoap:function(t,e,a,n,s){return r("/api/vcenter/connectSoap",{credential:t,host:e,port:a},n,s)},callVcenter:function(t,e,a,n){return r("/api/vcenter/call",{host:t,path:e},a,n)},callVcenterSoap:function(t,e,a,n,s,o,i){return r("/api/vcenter/callSoap",{credential:t,host:e,port:a,action:n,xml:s},o,i)},callNetApp:function(t,e,a,n,s,o,i){return r("/api/netapp/call",{credential:t,host:e,port:a,path:n,xml:s},o,i)},saveCredential:function(t,e,a){return r("/api/credential/save",{credential:t},e,a)},deleteCredential:function(t,e,a){return r("/api/credential/delete",{uuid:t},e,a)}}}])}(),function(){"use strict";myApp.factory("socket",["socketFactory",function(t){return t({ioSocket:io.connect("localhost")})}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/actions.html","<div ng-if=\"ACTIONS.app.actions == true\" ng-include=\"'templates/applications/actions-' + ACTIONS.app.id + '.html'\" include-replace></div>")}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/body.html","<div ng-include=\"'templates/applications/body-' + BODY.app.id + '.html'\" include-replace></div>")}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/main.html",'<div class="window window--{{::APP.appId}}" style="{{::APP.appData.style}}" ng-class="{\'window--active\': APP.isVisible(), \'window--closing\': APP.isClosing, \'window--opening\': APP.isOpening, \'window--minimized\': APP.isMinimized, \'window--maximized\': APP.isMaximized}"> \t\t    <div class="window__titlebar" ng-dblclick="APP.maximize()"> \t\t\t    <div class="window__controls window__controls--left" ng-click="APP.toggleMenu()">             <a class="window__icon"><i class="fa fa-{{::APP.appData.ico}}"></i></a>             <a class="window__menutoggle" ng-class="{\'window__menutoggle--open\': APP.isMenuOpened}"><i class="fa fa-bars"></i></a>           </div>           <span class="window__title">             {{::APP.appData.name}}           </span>           <div class="window__controls window__controls--right">             <a class="window__minimize" ng-click="APP.minimize()"><i class="fa fa-minus"></i></a>             <a class="window__maximize" ng-click="APP.maximize()"><i class="fa"></i></a>             <a class="window__close" ng-click="APP.close(); $event.stopPropagation();"><i class="fa fa-close"></i></a>           </div> \t\t    </div>         <window-menu app="APP.appData" is-menu-opened="APP.isMenuOpened"></window-menu>         <window-actions app="APP.appData"></window-actions>         <window-body app="APP.appData"></window-body>         <window-status app="APP.appData"></window-status>       </div>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/menu.html",'<ul class="window__menu" ng-class="{\'window__menu--open\': MENU.isMenuOpened}" ng-if="MENU.app.menu == true" ng-include="\'templates/applications/menu-\' + MENU.app.id + \'.html\'"></ul>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/applications/status.html","<div ng-if=\"STATUS.app.status == true\" ng-include=\"'templates/applications/status-' + STATUS.app.id + '.html'\" include-replace></div>")}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/desktop/start_menu.html",'<div class="start-menu" ng-class="{\'start-menu--open\' : $root.taskbar__item_open == \'start\'}">         <div class="start-menu__list">           <div class="media">             <a class="user-info menu-toggle"  ng-click="SM.openMenu(\'user\')">               <img class="user-info__img media__img" src="/img/KkCqvK9.png" alt="User image">               <div class="user-info__name media__body">                 User Name               </div>             </a>             <div class="menu" style="top: 60.5px; left: 0px;" ng-show="SM.openedMenu == \'user\'">               <a >Change account picture</a>               <a >Lock</a>               <a >Sign out</a>             </div>             <a class="user-info__power menu-toggle"  ng-click="SM.openMenu(\'power\')">               <i class="fa fa-power-off"></i>             </a>           </div>           <div class="menu" style="top: 60.5px; left: 188px;" ng-show="SM.openedMenu == \'power\'">             <a >Sleep</a>             <a >Power off</a>             <a >Restart</a>           </div>           <ul class="start-menu__recent">             <li ng-repeat="application in SM.applications | orderBy:\'name\'"" class="start-menu__{{::application.id}}" ng-click="SM.openApplication(application.id)" ng-if="application.id !== \'start\'" context-menu="SM.appContextMenu()">               <a >               <i class="fa fa-{{::application.ico}}"></i>               {{::application.name}}               </a>             </li>           </ul>           <form class="search">             <input type="text" class="search__input" placeholder="Search">             <button class="search__btn"></button>           </form>         </div>         <div class="start-screen-scroll">           <div class="start-screen">           <a class="start-screen__tile start-screen__tile--explorer masonry-item" >             <i class="fa fa-folder"></i>             <span>File Explorer</span>           </a>           <a class="start-screen__tile masonry-item" >           </a>           <a class="start-screen__tile start-screen__tile--wide masonry-item"   data-ss-colspan="2">           </a>           <div class="start-screen__smallgroup masonry-item">             <a class="start-screen__tile start-screen__tile--small" ></a>             <a class="start-screen__tile start-screen__tile--small" ></a>             <a class="start-screen__tile start-screen__tile--small" ></a>           </div>           <a class="start-screen__tile masonry-item" >           </a>           <a class="start-screen__tile masonry-item" >           </a>           <a class="start-screen__tile start-screen__tile--notepad masonry-item" >           </a>           <a class="start-screen__tile start-screen__tile--large start-screen__tile--mail masonry-item"  data-ss-colspan="2">             <i class="fa fa-envelope"></i>             <span>Mail</span>           </a>           <a class="start-screen__tile masonry-item" >           </a>           <a class="start-screen__tile masonry-item" >           </a>           <a class="start-screen__tile masonry-item" >           </a>           </div>         </div> \t\t  </div>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/desktop/task_bar.html",'<start-menu></start-menu> \t\t\t<div class="taskbar" ui-sortable="TB.sortableOptions" ng-model="TB.taskbar_applications"> \t\t\t\t<a ng-repeat="application in TB.taskbar_applications" class="taskbar__item taskbar__item--{{application.id}}" ng-click="TB.toggleApplication(application.id)" context-menu="TB.appContextMenu(application.id)" ng-class="{\'start--open\' : TB.isStartOpened(application.id), \'taskbar__item--open\' : TB.isItemOpened(application.id), \'taskbar__item--active\' : TB.isItemActive(application.id), \'not-sortable\': application.id == \'start\'}"> \t\t\t\t\t<i class="fa fa-{{::TB.getApplicationById(application.id).ico}}"></i> \t\t\t\t</a> \t\t\t\t<div class="taskbar__minimize" ng-click="TB.minimizeToDesktop()"></div> \t\t\t\t<div class="taskbar__tray"> \t\t\t\t\t<span class="time">{{TB.time}}</span> \t\t\t\t</div> \t\t\t</div>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/utils/DatastoreSelectable.html",'<div class="modal-header"> \t\t\t  <div class="modal-title" id="modal-title">{{title}}</div> \t\t\t</div> \t\t\t<div class="modal-body" id="modal-body"> \t\t\t  <div class="form-group"> \t\t\t\t<div class="col-sm-12"> \t\t\t\t  <select class="form-control" ng-options="datastore as datastore.host + \' - \' + datastore.name for datastore in text | orderBy:[\'host\',\'name\']" ng-model="selectedDatastore"> \t\t\t\t\t<option value="">-- Select a managed Datastore --</option> \t\t\t\t  </select> \t\t\t\t</div> \t\t\t  </div> \t\t\t</div> \t\t\t<div class="modal-footer"> \t\t\t  <button class="btn btn-primary" type="button" ng-click="selectDatastore()">Select</button> \t\t\t</div>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/utils/ESXiSelectable.html",'<div class="modal-header">         <div class="modal-title" id="modal-title">{{title}}</div>       </div>       <div class="modal-body" id="modal-body">         <div class="form-group">           <div class="col-sm-12">             <select class="form-control" ng-options="host as host.name for host in text" ng-model="selectedHost">               <option value="">-- Select a managed ESXi host --</option>             </select>           </div>         </div>       </div>       <div class="modal-footer">         <button class="btn btn-primary" type="button" ng-click="selectESXihost()">Select</button>       </div>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/utils/input.html",'<div class="modal-header"> \t\t\t  <div class="modal-title" id="modal-title">{{title}}</div> \t\t\t</div> \t\t\t<div class="modal-body" id="modal-body"> \t\t\t  <input type="text" class="form-control" set-focus placeholder="{{::text}}" ng-model="inputValue" /> \t\t\t</div> \t\t\t<div class="modal-footer"> \t\t\t  <button class="btn btn-primary" type="button" ng-click="no()">Cancel</button> \t\t\t  <button class="btn btn-default" type="button" ng-click="yes_input()">{{::button_text}}</button> \t\t\t</div>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/utils/modal.html",'<div class="modal-header">\n <div class="modal-title" id="modal-title">{{title}}</div>\n</div>\n<div class="modal-body" id="modal-body">\n <span>\n   {{text}}\n </span>\n</div>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/utils/question.html",'<div class="modal-header">         <div class="modal-title" id="modal-title">{{title}}</div>       </div>       <div class="modal-body" id="modal-body">         {{::text}}       </div>       <div class="modal-footer">         <button class="btn btn-primary" type="button" ng-click="no()">No</button>         <button class="btn btn-default" type="button" ng-click="yes()">Yes</button>       </div>')}])}(),function(){"use strict";myApp.run(["$templateCache",function(t){t.put("templates/utils/recoveryWizard.html",'<div class="modal-header">         <div class="modal-title" id="modal-title">{{wmC.title}}</div>       </div>       <div class="modal-body modal-recovery-wizard" id="modal-body">         <div class="wizard">           <ul class="nav nav-wizard">             <li ng-class="{\'active\': wmC.step == 1}">               <a ng-click="wmC.step = 1">Recovery Mode</a>             </li>             <li ng-class="{\'active\': wmC.step == 2}">               <a ng-click="wmC.step = 2">Destination</a>             </li>             <li ng-class="{\'active\': wmC.step == 3}">               <a ng-click="wmC.step = 3">Ready To apply</a>             </li>           </ul>           <form>             <div class="tab-content">               <div class="tab-pane active" ng-if="wmC.step == 1" ng-class="{\'active\': wmC.step == 1}">                 <table class="table table-hover m-t-xl">                  <tbody>                     <tr class="cursor-pointer">                        <th class="col-sm-1"><input type="checkbox" name="restore"></th>                        <td class="lh-2"><h5>Restore to the original location</h5>Quickly initiate restore of selected VMs to the original location, and with the original name and settings. This option minimizes the chance of user input error.</td>                     </tr>                     <tr class="cursor-pointer">                        <th class="col-sm-1"><input type="checkbox" name="restore"></th>                        <td class="lh-2"><h5>Restore to a new location, or with different settings</h5>Customize restored VM location, and change its settings. The wizard will automatically populate all controls with the original VM settings as the default settings.</td>                     </tr>                  </tbody>               </table>               </div>               <div class="tab-pane" ng-if="wmC.step == 2" ng-class="{\'active\': wmC.step == 2}">                 <div class="form-group">                   <div class="col-sm-12">                     <select class="form-control" ng-options="host as host.name for host in wmC.data.ESXihosts" ng-model="wmC.selectedHost" ng-change="wmC.loadESXidata()">                       <option value="">-- Select a managed ESXi host --</option>                     </select>                   </div>                 </div>                 <div class="form-group">                   <div class="col-sm-12">                     <select class="form-control" ng-options="folder as folder.name for folder in wmC.data.folders" ng-model="wmC.selectedFolder">                       <option value="">-- Select a VM folder --</option>                     </select>                   </div>                 </div>                 <div class="form-group">                   <div class="col-sm-12">                     <select class="form-control" ng-options="pool as pool.name for pool in wmC.data.resource_pools" ng-model="wmC.selectedPool">                       <option value="">-- Select a Resource Pool --</option>                     </select>                   </div>                 </div>                 <div class="form-group">                   <div class="col-sm-12">                     <input class="form-control" type="text" placeholder="Select a VM name" ng-model="wmC.vmName" required>                   </div>                 </div>                 <div class="form-group">                   <div class="col-sm-12">                     Power ON VM                     <switch class="pull-right" name="powerON" ng-model="wmC.powerVM" on="on" off="off"></switch>                   </div>                 </div>               </div>               <div class="tab-pane" ng-if="wmC.step == 3" ng-class="{\'active\': wmC.step == 3}">                 <h5>                   Instant VM recovery settings:                 </h5>                 <ul>                   <li>VM: {{wmC.data.vm.name}} from <strong>{{wmC.data.snapshot}}</strong></li>                   <li>Original Datastore: {{wmC.data.volume}}</li>                   <li>Host: {{wmC.selectedHost.name}}</li>                   <li>New VM name: {{wmC.vmName}}</li>                   <li>Power ON VM: {{wmC.powerVM}}</li>                 </ul>                 <p>                   After you click Restore, the selected VM will be instantly recovered into your production environment. To finalize the recovery use Storage VMotion to move running VM to the production storage.<br/>                   Alternatively, you can perform cold VM migration during your next maintenance window.                 </p>                 <p>                   If you are performing manual recovery testing, remember to change VM network to non-production before powering on the VM.                 </p>               </div>               <div class="clearfix"></div>             </div>           </form>         </div>       </div>       <div class="modal-footer">         <button class="btn btn-primary" type="button" ng-if="wmC.step == 1" ng-click="wmC.step = 2">Next</button>         <button class="btn btn-primary" type="button" ng-if="wmC.step == 2" ng-click="wmC.step = 3">Next</button>         <button class="btn btn-primary" type="button" ng-if="wmC.step == 3" ng-click="wmC.selectData()">Restore</button>       </div>')}])}();
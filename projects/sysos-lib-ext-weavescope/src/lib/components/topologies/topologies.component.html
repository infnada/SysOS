<div class="tour-step-anchor topologies-selector">

  <ng-container *ngIf="currentTopology">
    <div class="topologies-item" [attr.key]="topology.get('id')" *ngFor="let topology of topologies">
      <div
        class="tour-step-anchor topologies-item-main topologies-item-{{topology.get('id')}}"
        [ngClass]="{'topologies-item-main-active': topology === currentTopology, 'topologies-item-main-matched': searchMatchCountByTopology.get(topology.get('id')) || 0}"
        title="{{basicTopologyInfo(topology, searchMatchCountByTopology.get(topology.get('id')) || 0)}}"
        [attr.rel]="topology.get('id')"
        (click)="onTopologyClick($event, topology)">
        <div class="topologies-item-label">
          {{topology.get('name')}}
        </div>
      </div>
      <div class="topologies-sub">

        <ng-container *ngIf="topology.has('sub_topologies')">
          <div
            class="topologies-sub-item topologies-item-{{subTopology.get('id')}}"
            [ngClass]="{'topologies-sub-item-active': subTopology === currentTopology, 'topologies-sub-item-matched': searchMatchCountByTopology.get(subTopology.get('id')) || 0}"
            title="{{basicTopologyInfo(subTopology, searchMatchCountByTopology.get(subTopology.get('id')) || 0)}}"
            [attr.key]="subTopology.get('id')"
            [attr.rel]="subTopology.get('id')"
            (click)="this.onTopologyClick($event, subTopology)"
            *ngFor="let subTopology of topology.get('sub_topologies')">
            <div class="topologies-sub-item-label">
              {{subTopology.get('name')}}
            </div>
          </div>
        </ng-container>

      </div>
  </div>
  </ng-container>
</div>

/**
Systems OS - 0.0.1

Copyright (c) 2018 Isart Navarro Farell
License: MIT
*/

$(window).on("load",function(){$(".start-screen").masonry({itemSelector:".masonry-item",columnWidth:128})});var SysOS=angular.module("SysOS",["btford.socket-io","ngFileUpload","ui.codemirror","ui.bootstrap.contextMenu","toastr","ngSelectable","ui.bootstrap","angular-uuid","oc.lazyLoad","ui.sortable","ui.tree"]);!function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/menu-alerts.html",'<li>           <a >             <i class="menu__icon fa fa-download"></i>             Save           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-folder-open"></i>             Open           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-print"></i>             Print           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-share-alt"></i>             Share           </a>         </li>         <li class="divided">           <a >             <i class="menu__icon fa fa-file"></i>             Format           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-cog"></i>             Settings           </a>         </li>')}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/body-alerts.html",'<div class="window__body" ng-controller="alertsBodyController as aB">               <div class="window__main no_padding">                 <div class="row">                   <div class="col-lg-2 col-sm-6">                     <div class="panel panel-default b-a-0 bg-gray-dark">                       <div class="panel-heading lit lit bg-success-i">                         <div class="media">                           <div class="media-body">                             <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">OK</span> <small class="text-uppercase text-white">123</small></h1>                           </div>                         </div>                       </div>                     </div>                   </div>                   <div class="col-lg-2 col-sm-6">                     <div class="panel panel-default b-a-0 bg-gray-dark">                       <div class="panel-heading lit bg-warning-i">                         <div class="media">                           <div class="media-body">                             <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">WARNING</span> <small class="text-uppercase text-white">123</small></h1>                           </div>                         </div>                       </div>                     </div>                   </div>                   <div class="col-lg-2 col-sm-6">                     <div class="panel panel-default b-a-0 bg-gray-dark">                       <div class="panel-heading lit bg-danger-i">                         <div class="media">                           <div class="media-body">                             <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">CRITICAL</span> <small class="text-uppercase text-white">123</small></h1>                           </div>                         </div>                       </div>                     </div>                   </div>                   <div class="col-lg-2 col-sm-6">                     <div class="panel panel-default b-a-0 bg-gray-dark">                       <div class="panel-heading lit bg-unknown-i">                         <div class="media">                           <div class="media-body">                             <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">UNKNOWN</span> <small class="text-uppercase text-white">123</small></h1>                           </div>                         </div>                       </div>                     </div>                   </div>                   <div class="col-lg-2 col-sm-6">                     <div class="panel panel-default b-a-0 bg-gray-dark">                       <div class="panel-heading lit bg-primary-i">                         <div class="media">                           <div class="media-body">                             <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">ALL PROBLEMS</span> <small class="text-uppercase text-white">123</small></h1>                           </div>                         </div>                       </div>                     </div>                   </div>                   <div class="col-lg-2 col-sm-6">                     <div class="panel panel-default b-a-0 bg-gray-dark">                       <div class="panel-heading lit">                         <div class="media">                           <div class="media-body">                             <h1 class="display-4 m-t-0 m-b-0 ng-binding"><span class="label label-white label-outline m-l-1 m-b-3 f-25 label-notice">ALL</span> <small class="text-uppercase text-white">123</small></h1>                           </div>                         </div>                       </div>                     </div>                   </div>                 </div>                 <table class="table">                   <thead>                     <tr>                       <th class="small text-muted text-uppercase"><strong>Node</strong></th>                       <th class="small text-muted text-uppercase"><strong>Service</strong></th>                       <th class="small text-muted text-uppercase"><strong>Status</strong></th>                       <th class="small text-muted text-uppercase"><strong>Status information</strong></th>                       <th class="small text-muted text-uppercase"><strong>Last check</strong></th>                       <th class="small text-muted text-uppercase text-right"><strong>Actions</strong></th>                     </tr>                   </thead>                   <tbody>                     <tr ng-repeat="connection in aB.connections">                       <td class="v-a-m {{aB.getPingClass(connection)[0]}}">                         <span class="text-white">{{::connection.description}}</span>                         <br>                         <span>{{::connection.host}}</span>                       </td>                       <td class="v-a-m" colspan="5">                         <table class="little-table">                           <tbody>                             <tr class="{{aB.getPingClass(connection)[0]}}">                               <td>                                 <span>Ping</span>                               </td>                               <td>                                 <span><i class="fa fa-circle-o m-r-1"></i> <span>{{aB.getPingClass(connection)[1]}}</span></span>                               </td>                               <td>                                 <span>{{connection.ping}}</span>                               </td>                               <td>                                 <span>10-20-2017 15:22:07</span>                               </td>                               <td class="text-right">                                 <span><i class="fa fa-refresh m-r-1"></i></span>                               </td>                             </tr>                             <tr class="{{aB.getMemClass(connection)[0]}}">                               <td>                                 <span>Memory Usage</span>                               </td>                               <td>                                 <span><i class="fa fa-circle-o m-r-1"></i> <span>{{aB.getMemClass(connection)[1]}}</span></span>                               </td>                               <td>                                 <span>Total: {{connection.mem[0].total}}MiB - Free: {{connection.mem[0].free}}Mib -> {{(connection.mem[0].free / connection.mem[0].total * 100).toFixed(1)}}%</span>                               </td>                               <td>                                 <span>10-20-2017 15:22:07</span>                               </td>                               <td class="text-right">                                 <span><i class="fa fa-refresh m-r-1"></i></span>                               </td>                             </tr>                             <tr class="{{aB.getCpuClass(connection)[0]}}">                               <td>                                 <span>CPU Load</span>                               </td>                               <td>                                 <span><i class="fa fa-circle-o m-r-1"></i> <span>{{aB.getCpuClass(connection)[1]}}</span></span>                               </td>                               <td>                                 <span>Load: {{aB.getCpuLoad(connection)}}%</span>                               </td>                               <td>                                 <span>10-20-2017 15:22:07</span>                               </td>                               <td class="text-right">                                 <span><i class="fa fa-refresh m-r-1"></i></span>                               </td>                             </tr>                             <tr class="{{aB.getDiskClass(disk)[0]}}" ng-repeat="disk in connection.disk">                               <td>                                 <span>Disk {{::disk.disk}}</span>                               </td>                               <td>                                 <span><i class="fa fa-circle-o m-r-1"></i> <span>{{aB.getDiskClass(disk)[1]}}</span></span>                               </td>                               <td>                                 <span>Total: {{disk.size}}iB - Free: {{aB.extractSpace(disk.free_space, 1)}}{{aB.extractSpace(disk.free_space, 2)}} -> {{disk.free_percent}}</span>                               </td>                               <td>                                 <span>10-20-2017 15:22:07</span>                               </td>                               <td class="text-right">                                 <span><i class="fa fa-refresh m-r-1"></i></span>                               </td>                             </tr>                             <tr class="{{aB.getUpdatesClass(connection)[0]}}">                               <td>                                 <span>Updates</span>                               </td>                               <td>                                 <span><i class="fa fa-circle-o m-r-1"></i> <span>{{aB.getUpdatesClass(connection)[1]}}</span></span>                               </td>                               <td>                                 <span>{{connection.updates.length}} pending updates</span>                               </td>                               <td>                                 <span>10-20-2017 15:22:07</span>                               </td>                               <td class="text-right">                                 <span><i class="fa fa-refresh m-r-1"></i></span>                               </td>                             </tr>                           </tbody>                         </table>                       </td>                     </tr>                   </tbody>                 </table>               </div>             </div>')}])}(),function(){"use strict";SysOS.controller("alertsBodyController",["$scope","smanagerFactory",function(e,t){var a=this;e.$watch(function(){return t.connections()},function(e){a.connections=e}),this.getCpuLoad=function(e){return angular.isUndefined(e)?0:angular.isUndefined(e.cpu)?0:e.cpu.filter(function(e){return"Load average"===e.option})[0].data.split(" ")[0]},this.extractSpace=function(e,t){return 1===t?e.slice(0,-1):2===t?e.substr(e.length-1)+"iB":void 0},this.getPingClass=function(e){return angular.isUndefined(e.ping)?["bg-unknown-i","UNKNOWN"]:"alive"===e.ping?["bg-success-i","OK"]:["bg-danger-i","CRITICAL"]},this.getMemClass=function(e){if(angular.isUndefined(e.mem))return["bg-unknown-i","UNKNOWN"];var t=100-(e.mem[0].free/e.mem[0].total*100).toFixed(1);return t<80?["bg-success-i","OK"]:t<90?["bg-warning-i","WARNING"]:["bg-danger-i","CRITICAL"]},this.getCpuClass=function(e){if(angular.isUndefined(e.cpu))return["bg-unknown-i","UNKNOWN"];var t=a.getCpuLoad(e).slice(0,-1);return t<80?["bg-success-i","OK"]:t<90?["bg-warning-i","WARNING"]:"bg-danger-i"},this.getDiskClass=function(e){if(angular.isUndefined(e))return["bg-unknown-i","UNKNOWN"];var t=this.extractSpace(e.used_percent,1);return t<80?["bg-success-i","OK"]:t<90?["bg-warning-i","WARNING"]:["bg-danger-i","CRITICAL"]},this.getUpdatesClass=function(e){if(angular.isUndefined(e.updates))return["bg-unknown-i","UNKNOWN"];var t=e.updates.length;return t<2?["bg-success-i","OK"]:t<5?["bg-warning-i","WARNING"]:["bg-danger-i","CRITICAL"]}}])}(),function(){"use strict";SysOS.run(["ApplicationsFactory",function(e){e.registerApplication({id:"alerts",ico:"bullhorn",name:"Alerts",menu:!0,actions:!0,style:"width:1700px;height:750px;top:8%;left:7%;"})}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/menu-mail.html",'<li>           <a >             <i class="menu__icon fa fa-search"></i>             Search           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-share-alt"></i>             Share           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-plug"></i>             Devices           </a>         </li>         <li class="divided">           <a >             <i class="menu__icon fa fa-cog"></i>             Settings           </a>         </li>')}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/body-mail.html",'<div class="window__body">               <div class="window__side mailbox-content">                 <div class="file-manager">                   <a class="btn btn-block btn-primary compose-mail" href="mail_compose.html">Compose Mail</a>                   <div class="space-25"></div>                   <h5>Folders</h5>                   <ul class="folder-list m-b-md" style="padding: 0">                       <li><a href="mailbox.html"> <i class="fa fa-inbox "></i> Inbox <span class="label label-warning pull-right">16</span> </a></li>                       <li><a href="mailbox.html"> <i class="fa fa-envelope-o"></i> Send Mail</a></li>                       <li><a href="mailbox.html"> <i class="fa fa-certificate"></i> Important</a></li>                       <li><a href="mailbox.html"> <i class="fa fa-file-text-o"></i> Drafts <span class="label label-danger pull-right">2</span></a></li>                       <li><a href="mailbox.html"> <i class="fa fa-trash-o"></i> Trash</a></li>                   </ul>                   <h5>Categories</h5>                   <ul class="category-list" style="padding: 0">                       <li><a > <i class="fa fa-circle text-navy"></i> Work </a></li>                       <li><a > <i class="fa fa-circle text-danger"></i> Documents</a></li>                       <li><a > <i class="fa fa-circle text-primary"></i> Social</a></li>                       <li><a > <i class="fa fa-circle text-info"></i> Advertising</a></li>                       <li><a > <i class="fa fa-circle text-warning"></i> Clients</a></li>                   </ul>                   <h5 class="tag-title">Labels</h5>                   <ul class="tag-list" style="padding: 0">                       <li><a href=""><i class="fa fa-tag"></i> Family</a></li>                       <li><a href=""><i class="fa fa-tag"></i> Work</a></li>                       <li><a href=""><i class="fa fa-tag"></i> Home</a></li>                       <li><a href=""><i class="fa fa-tag"></i> Children</a></li>                       <li><a href=""><i class="fa fa-tag"></i> Holidays</a></li>                       <li><a href=""><i class="fa fa-tag"></i> Music</a></li>                       <li><a href=""><i class="fa fa-tag"></i> Photography</a></li>                       <li><a href=""><i class="fa fa-tag"></i> Film</a></li>                   </ul>                   <div class="clearfix"></div>                 </div>               </div>               <div class="window__main">                 <div class="mail-box-header">                   <form method="get" action="index.html" class="pull-right mail-search">                     <div class="input-group">                       <input type="text" class="form-control input-sm" name="search" placeholder="Search email">                       <div class="input-group-btn">                         <button type="submit" class="btn btn-sm btn-primary">                           Search                         </button>                       </div>                     </div>                   </form>                   <h2>                     Inbox (16)                   </h2>                   <div class="mail-tools tooltip-demo m-t-md">                     <div class="btn-group pull-right">                       <button class="btn btn-white btn-sm"><i class="fa fa-arrow-left"></i></button>                       <button class="btn btn-white btn-sm"><i class="fa fa-arrow-right"></i></button>                     </div>                     <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="left" title="Refresh inbox"><i class="fa fa-refresh"></i> Refresh</button>                     <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Mark as read"><i class="fa fa-eye"></i> </button>                     <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Mark as important"><i class="fa fa-exclamation"></i> </button>                     <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Move to trash"><i class="fa fa-trash-o"></i> </button>                   </div>                   </div>                   <div class="mail-box">                     <table class="table table-hover table-mail">                       <tbody>                         <tr class="unread">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Anna Smith</a></td>                           <td class="mail-subject"><a href="mail_detail.html">Lorem ipsum dolor noretek imit set.</a></td>                           <td class=""><i class="fa fa-paperclip"></i></td>                           <td class="text-right mail-date">6.10 AM</td>                         </tr>                         <tr class="unread">                           <td class="check-mail">                             <input type="checkbox" class="i-checks" checked>                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Jack Nowak</a></td>                           <td class="mail-subject"><a href="mail_detail.html">Aldus PageMaker including versions of Lorem Ipsum.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">8.22 PM</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Facebook</a> <span class="label label-warning pull-right">Clients</span> </td>                           <td class="mail-subject"><a href="mail_detail.html">Many desktop publishing packages and web page editors.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">Jan 16</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Mailchip</a></td>                           <td class="mail-subject"><a href="mail_detail.html">There are many variations of passages of Lorem Ipsum.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">Mar 22</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Alex T.</a> <span class="label label-danger pull-right">Documents</span></td>                           <td class="mail-subject"><a href="mail_detail.html">Lorem ipsum dolor noretek imit set.</a></td>                           <td class=""><i class="fa fa-paperclip"></i></td>                           <td class="text-right mail-date">December 22</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Monica Ryther</a></td>                           <td class="mail-subject"><a href="mail_detail.html">The standard chunk of Lorem Ipsum used.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">Jun 12</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Sandra Derick</a></td>                           <td class="mail-subject"><a href="mail_detail.html">Contrary to popular belief.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">May 28</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Patrick Pertners</a> <span class="label label-info pull-right">Adv</span></td>                           <td class="mail-subject"><a href="mail_detail.html">If you are going to use a passage of Lorem </a></td>                           <td class=""></td>                           <td class="text-right mail-date">May 28</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Michael Fox</a></td>                           <td class="mail-subject"><a href="mail_detail.html">Humour, or non-characteristic words etc.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">Dec 9</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Damien Ritz</a></td>                           <td class="mail-subject"><a href="mail_detail.html">Oor Lorem Ipsum is that it has a more-or-less normal.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">Jun 11</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Anna Smith</a></td>                           <td class="mail-subject"><a href="mail_detail.html">Lorem ipsum dolor noretek imit set.</a></td>                           <td class=""><i class="fa fa-paperclip"></i></td>                           <td class="text-right mail-date">6.10 AM</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Jack Nowak</a></td>                           <td class="mail-subject"><a href="mail_detail.html">Aldus PageMaker including versions of Lorem Ipsum.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">8.22 PM</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Mailchip</a></td>                           <td class="mail-subject"><a href="mail_detail.html">There are many variations of passages of Lorem Ipsum.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">Mar 22</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Alex T.</a> <span class="label label-warning pull-right">Clients</span></td>                           <td class="mail-subject"><a href="mail_detail.html">Lorem ipsum dolor noretek imit set.</a></td>                           <td class=""><i class="fa fa-paperclip"></i></td>                           <td class="text-right mail-date">December 22</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Monica Ryther</a></td>                           <td class="mail-subject"><a href="mail_detail.html">The standard chunk of Lorem Ipsum used.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">Jun 12</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Sandra Derick</a></td>                           <td class="mail-subject"><a href="mail_detail.html">Contrary to popular belief.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">May 28</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Patrick Pertners</a> </td>                           <td class="mail-subject"><a href="mail_detail.html">If you are going to use a passage of Lorem </a></td>                           <td class=""></td>                           <td class="text-right mail-date">May 28</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Michael Fox</a></td>                           <td class="mail-subject"><a href="mail_detail.html">Humour, or non-characteristic words etc.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">Dec 9</td>                         </tr>                         <tr class="read">                           <td class="check-mail">                             <input type="checkbox" class="i-checks">                           </td>                           <td class="mail-ontact"><a href="mail_detail.html">Damien Ritz</a></td>                           <td class="mail-subject"><a href="mail_detail.html">Oor Lorem Ipsum is that it has a more-or-less normal.</a></td>                           <td class=""></td>                           <td class="text-right mail-date">Jun 11</td>                         </tr>                       </tbody>                     </table>                   </div>                 </div>               </div>             </div>')}])}(),function(){"use strict";SysOS.run(["ApplicationsFactory",function(e){e.registerApplication({id:"mail",ico:"envelope",name:"Mail",menu:!0,style:"width:1270px;height:600px;top:5%;left:10%;"})}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/menu-notepad.html",'<li>           <a >             <i class="menu__icon fa fa-download"></i>             Save           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-folder-open"></i>             Open           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-print"></i>             Print           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-share-alt"></i>             Share           </a>         </li>         <li class="divided">           <a >             <i class="menu__icon fa fa-file"></i>             Format           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-cog"></i>             Settings           </a>         </li>')}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/body-notepad.html",'<div class="window__body" ng-controller="notepadBodyController as nB">               <div class="window__main no_padding">                 <textarea class="full-textarea" ui-codemirror="{ onLoad : nB.codemirrorLoaded }" ui-codemirror-opts="nB.editorOptions" ng-model="nB.editorData"></textarea>               </div>             </div>')}])}(),function(){"use strict";SysOS.controller("notepadBodyController",["$scope",function(e){var a=this;this.editorData="test",this.editorOptions={lineWrapping:!0,lineNumbers:!0,mode:"shell",matchBrackets:!0,viewportMargin:1/0,autofocus:!0},this.codemirrorLoaded=function(e){e.getDoc();e.focus()},e.$on("notepad__new_data",function(e,t){console.log("newdata"),a.editorData=t})}])}(),function(){"use strict";SysOS.run(["ApplicationsFactory",function(e){e.registerApplication({id:"notepad",ico:"pencil",name:"Notepad",menu:!0,style:"width:600px;height:300px;top:10%;left:30%;"})}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/menu-video.html",'<li>           <a >             <i class="menu__icon fa fa-search"></i>             Search           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-share-alt"></i>             Share           </a>         </li>         <li>           <a >             <i class="menu__icon fa fa-plug"></i>             Devices           </a>         </li>         <li class="divided">           <a >             <i class="menu__icon fa fa-cog"></i>             Settings           </a>         </li>')}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/body-video.html",'<div class="window__body">               <div class="window__main no_padding">                 <video class="full_video" src="http://localhost:9001/video" controls></video>               </div>             </div>')}])}(),function(){"use strict";SysOS.run(["ApplicationsFactory",function(e){e.registerApplication({id:"video",ico:"play",name:"Video Player",menu:!0,style:"width:1270px;height:600px;top:9%;left:10%;"})}])}(),function(){"use strict";SysOS.run(["$rootScope","$log","ServerFactory","ApplicationsFactory","socket","connectionsFactory","$injector","$ocLazyLoad",function(e,t,a,n,s,o,r,i){t.debug("SysOS -> Init"),angular.element(window).bind("dragover",function(e){e.preventDefault()}),angular.element(window).bind("drop",function(e){e.preventDefault()}),angular.element(window).bind("contextmenu",function(e){e.preventDefault()}),e.taskbar__item_open=null,n.getInstalledApplications().then(function(e){angular.forEach(e,function(e){var t=e.filename.replace("application__","").replace(".min.js","");i.load({name:t+"App",files:["/getApplicationFile/"+e.filename]}).then(function(){})})}),n.getTaskBarApplications(),a.getSession(function(){s.on("connect",function(){}),s.on("disconnect",function(e){console.log(e),s.io.reconnection(!1)}),s.on("error",function(e){console.log(e)}),s.on("smanager__prop",function(e){var t=r.get("smanagerFactory");angular.isObject(e)&&console.log(e),t.newProp(e)}),s.on("ssh__prop",function(e){var t=r.get("sshFactory");angular.isObject(e)&&console.log(e),t.newProp(e)}),s.on("ssh__data",function(e){r.get("sshFactory").newData(e)}),s.on("sftp__prop",function(e){var t=r.get("sftpFactory");angular.isObject(e)&&console.log(e),t.newProp(e)}),s.on("sftp__data",function(e){r.get("sftpFactory").newData(e)}),s.on("sftp__progress",function(e){r.get("sftpFactory").newProgress(e)})},function(){console.log("error")})}])}(),function(){"use strict";SysOS.config(function(e){angular.extend(e,{progressBar:!0,tapToDismiss:!0,timeOut:1e4})})}(),function(){"use strict";SysOS.controller("mainController",["$scope","ApplicationsFactory",function(e,t){var a=this;this.opened_applications=t.opened_applications(),e.$watch(function(){return t.opened_applications()},function(e){a.opened_applications=e}),this.handleDesktopClick=function(e){void 0!==e.target.attributes.class&&"desktop ng-scope"===e.target.attributes.class.value&&t.toggleApplication(null)}}])}(),function(){"use strict";SysOS.directive("application",[function(){return{restrict:"E",scope:{appId:"="},replace:!0,templateUrl:"templates/applications/main.html",controllerAs:"APP",controller:["$scope","$element","$window","$timeout","ApplicationsFactory",function(e,t,a,n,s){var o=this,r=a.innerHeight-48,i=a.innerWidth;angular.element(a).bind("resize",function(){r=a.innerHeight-48,i=a.innerWidth,o.isMaximized&&t.css({height:r,width:i,top:0,left:0})}),n(function(){o.isOpening=!1},500),this.appId=e.appId,this.appData=s.getApplicationById(this.appId),this.opened_applications=s.opened_applications(),this.isclosing=!1,this.isOpening=!0,this.isMinimized=!1,this.isMaximized=!1,this.isMenuOpened=!1,this.initialHeight=0,this.initialWidth=0,this.initialTop=0,this.initialLeft=0,t.on("click",function(e){s.isActiveApplication(o.appId)||o.isMinimized||s.toggleApplication(o.appId)}),t.resizable({handles:"n,ne,e,se,s,sw,w,nw",stop:function(){t[0].offsetHeight,t[0].offsetWidth,t[0].offsetTop,t[0].offsetLeft}}),t.draggable({handle:".window__titlebar",stop:function(){t[0].offsetHeight,t[0].offsetWidth;var e=t[0].offsetTop;t[0].offsetLeft;e<-5&&o.maximize()},start:function(e,t){s.toggleApplication(o.appId),o.isMaximized&&o.maximize()}}),e.$on("closeApplication",function(e,t){t===o.appId&&o.close()}),e.$on("toggling",function(e,t){return null===t?o.minimize():t===o.appId?o.isMinimized?(s.toggleApplication(t),o.isMinimized=!1):s.isActiveApplication(o.appId)?o.minimize():s.toggleApplication(t):void 0}),this.isVisible=function(){return s.isActiveApplication(o.appId)},this.close=function(){o.isClosing=!0,n(function(){o.isClosing=!1,o.opened_applications=s.closeApplication(o.appId)},500),s.toggleApplication(null)},this.minimize=function(){o.isMinimized=!0,s.toggleApplication(null)},this.maximize=function(){o.isMaximized=!o.isMaximized,o.isMaximized?(o.initialHeight=t[0].offsetHeight,o.initialWidth=t[0].offsetWidth,o.initialTop=t[0].offsetTop,o.initialLeft=t[0].offsetLeft,t.css({height:r,width:i,top:0,left:0})):t.css({height:o.initialHeight,width:o.initialWidth,top:o.initialTop,left:o.initialLeft})},this.toggleMenu=function(){o.isMenuOpened=!o.isMenuOpened}}]}}])}(),function(){"use strict";SysOS.directive("donutChart",["$timeout",function(n){return{restrict:"A",link:function(e,t,a){n(function(){console.log(a.peity),t.peity("donut",JSON.parse(a.peity))},100)}}}])}(),function(){"use strict";SysOS.directive("includeReplace",[function(){return{require:"ngInclude",restrict:"A",link:function(e,t){t.replaceWith(t.children())}}}])}(),function(){"use strict";SysOS.directive("indeterminateCheckbox",[function(){return{restrict:"A",scope:{node:"="},link:function(n,s){n.$watch("node",function(){var e=function t(e,a){if(e)return a.push(e),e.items&&e.items.forEach(function(e){a=a.concat(t(e,[]))}),a}(n.node,[]),t=(e=e.map(function(e){return e.isSelected})).filter(function(e){return!0===e}),a=0<t.length&&t.length<e.length;s.prop("indeterminate",a)},!0)}}}])}(),function(){"use strict";SysOS.directive("lineChart",[function(){return{restrict:"A",link:function(e,t,a){e.$watch(function(){return a.lines},function(e){0!==a.lines.length&&t.sparkline(JSON.parse(e),{width:"100%",height:"80 ",lineWidth:1,lineColor:"#4ca8e1",fillColor:"#2a2a2a",spotRadius:2,spotColor:"",minSpotColor:"",maxSpotColor:"",highlightSpotColor:"#00ffff",normalRangeColor:"#262626",normalRangeMin:-1,normalRangeMax:10})})}}}])}(),function(){"use strict";SysOS.directive("setFocus",[function(){return{link:function(e,t){t[0].focus()}}}])}(),function(){"use strict";SysOS.directive("startMenu",[function(){return{restrict:"E",scope:{},templateUrl:"templates/desktop/start_menu.html",controllerAs:"SM",controller:["$scope","ApplicationsFactory",function(e,t){var a=this;this.applications=t.applications(),e.$watch(function(){return t.applications()},function(e){a.applications=e}),this.appContextMenu=function(){return[[function(e){return'<span class="fa-stack"><i class="fa fa-stack-2x fa-'+e.application.ico+'"></i></span> Open'},function(e){a.openApplication(e.application.id)},function(){return!0}],null,[function(e){return console.log(e),t.isApplicationPinned(e.application.id)?'<span class="fa-stack"><i class="fa fa-thumb-tack fa-stack-2x"></i><i class="fa fa-ban fa-stack-1x text-danger"></i></span> Unpin from Task Bar':'<span class="fa-stack"><i class="fa fa-stack-2x fa-thumb-tack fa-rotate-90"></i></span> Pin to Task Bar'},function(e){t.registerTaskBarApplication({id:e.application.id,pinned:!t.isApplicationPinned(e.application.id)},!0)},function(){return!0}]]},this.openApplication=function(e){t.openApplication(e),t.toggleApplication(e)},this.openMenu=function(e){if(a.openedMenu===e)return a.openedMenu=null;a.openedMenu=e}}]}}])}(),function(){"use strict";SysOS.directive("switch",[function(){return{restrict:"AE",replace:!0,transclude:!0,template:function(e,t){var a="";return a+="<span",a+=' class="switch'+(t.class?" "+t.class:"")+'"',a+=t.ngModel?' ng-click="'+t.disabled+" ? "+t.ngModel+" : "+t.ngModel+"=!"+t.ngModel+(t.ngChange?"; "+t.ngChange+'()"':'"'):"",a+=' ng-class="{ checked:'+t.ngModel+", disabled:"+t.disabled+' }"',a+=">",a+="<small></small>",a+='<input type="checkbox"',a+=t.id?' id="'+t.id+'"':"",a+=t.name?' name="'+t.name+'"':"",a+=t.ngModel?' ng-model="'+t.ngModel+'"':"",a+=' style="display:none" />',a+='<span class="switch-text">',a+=t.on?'<span class="on">'+t.on+"</span>":"",a+=t.off?'<span class="off">'+t.off+"</span>":" ",a+="</span>"}}}])}(),function(){"use strict";SysOS.directive("taskBar",[function(){return{restrict:"E",scope:{},templateUrl:"templates/desktop/task_bar.html",controllerAs:"TB",controller:["$rootScope","$scope","$interval","ApplicationsFactory",function(t,a,e,n){var s=this,o=function(e){return s.opened_applications.map(function(e){return e.id}).indexOf(e)};function r(){var e="",t=new Date,a=t.getHours();e=a<12?"AM":"PM",0===a&&(a=12),12<a&&(a-=12);var n=t.getMinutes();return n<10&&(n="0"+n),a+":"+n+" "+e}e(function(){s.time=r()},1e3),this.time=r(),this.opened_applications=n.opened_applications(),this.taskbar_applications=n.taskbar_applications(),a.$watch(function(){return n.opened_applications()},function(e){s.opened_applications=e}),a.$watch(function(){return n.taskbar_applications()},function(e){s.taskbar_applications=e}),this.sortableOptions={"ui-floating":!0,items:"a:not(.not-sortable)",axis:"x",stop:function(){n.saveTaskBarApplicationsOrder(s.taskbar_applications)}},this.getApplicationById=function(e){return n.getApplicationById(e)},this.appContextMenu=function(e){if("start"!==e)return[[function(e){return'<span class="fa-stack"><i class="fa fa-stack-2x fa-'+s.getApplicationById(e.application.id).ico+'"></i></span> '+s.getApplicationById(e.application.id).name},function(e){s.toggleApplication(e.application.id)},function(){return!0}],null,[function(e){return e.application.pinned?'<span class="fa-stack"><i class="fa fa-thumb-tack fa-stack-2x"></i><i class="fa fa-ban fa-stack-1x text-danger"></i></span> Unpin from Task Bar':'<span class="fa-stack"><i class="fa fa-stack-2x fa-thumb-tack fa-rotate-90"></i></span> Pin to Task Bar'},function(e){n.registerTaskBarApplication({id:e.application.id,pinned:!e.application.pinned},!0)},function(){return!0}],[function(){return'<span class="fa-stack"><i class="fa fa-stack-2x fa-times"></i></span> Close'},function(e){a.$parent.$broadcast("closeApplication",e.application.id)},function(e){return-1!==o(e.application.id)}]]},this.isStartOpened=function(e){return t.taskbar__item_open===e&&"start"===e},this.isItemOpened=function(e){return-1!==o(e)&&"start"!==e},this.isItemActive=function(e){return t.taskbar__item_open===e&&"start"!==e},this.toggleApplication=function(t){if("start"===t)return n.toggleApplication(t);-1===o(t)&&n.openApplication(t).then(function(e){s.opened_applications=e,n.toggleApplication(t)}),a.$parent.$broadcast("toggling",t)},this.minimizeToDesktop=function(){a.$parent.$broadcast("toggling",null)}}]}}])}(),function(){"use strict";SysOS.directive("windowActions",[function(){return{restrict:"E",scope:{app:"="},bindToController:!0,templateUrl:"templates/applications/actions.html",controllerAs:"ACTIONS",controller:[function(){}]}}])}(),function(){"use strict";SysOS.directive("windowBody",[function(){return{restrict:"E",scope:{app:"="},bindToController:!0,templateUrl:"templates/applications/body.html",controllerAs:"BODY",controller:[function(){this.toggleList=function(e){angular.element(e.currentTarget.parentElement.parentElement).toggleClass("side__list--open"),angular.element(e.currentTarget.parentElement.nextElementSibling).animate({height:"toggle",opacity:"toggle"},250)}}]}}])}(),function(){"use strict";SysOS.directive("windowMenu",[function(){return{restrict:"E",scope:{app:"=",isMenuOpened:"="},bindToController:!0,templateUrl:"templates/applications/menu.html",controllerAs:"MENU",controller:[function(){}]}}])}(),function(){"use strict";SysOS.directive("windowStatus",[function(){return{restrict:"E",scope:{app:"="},bindToController:!0,templateUrl:"templates/applications/status.html",controllerAs:"STATUS",controller:[function(){}]}}])}(),function(){"use strict";SysOS.factory("ApplicationsFactory",["$rootScope","$q","$log","ServerFactory","toastr","fileSystemFactory",function(t,a,s,o,n,e){var r=[{id:"start",ico:"windows",name:"Start Menu",menu:!0}],i=[],p=[],l=function(e){if(!e)throw new Error("id_not_found");return i.map(function(e){return e.id}).indexOf(e)},c=function(e){if(!e)throw new Error("id_not_found");return p.map(function(e){return e.id}).indexOf(e)},d=function(e,t){if(!e)throw new Error("id_not_found");s.debug("Applications Factory -> Registering application in TaskBar -> id [%s], pinned [%s], save [%s]",e.id,e.pinned,t);var a=l(e.id);if(-1!==a?!1===e.pinned&&-1===c(e.id)?i.splice(a,1):i[a].pinned=e.pinned:(s.debug("Applications Factory -> Register application in TaskBar -> id [%s], pinned [%s]",e.id,e.pinned),i.push(e)),!0===t){var n=i.filter(function(e){return!0===e.pinned&&"start"!==e.id});return o.saveConfigToFile(n,"desktop/task_bar.json",!0,function(){s.debug("Applications Factory -> TaskBar applications saved")},function(e){s.debug("Applications Factory -> Error while saving TaskBar applications -> ",e.error)})}},u=function(t){if(!t)throw new Error("id_not_found");return r.filter(function(e){return e.id===t})[0]},m=function(e){if(!e)throw new Error("id_not_found");return t.taskbar__item_open===e};return{errorHandler:function(e){if(!e)throw new Error("e_not_found");return n.error(e,"General Error"),s.error("Applications Factory ->General Error -> [%s]",e),new Error(e)},registerApplication:function(e){if(!e)throw new Error("data_not_found");s.debug("Applications Factory -> New application registration -> id [%s], name [%s]",e.id,e.name),r.push(e)},applications:function(){return r},registerTaskBarApplication:d,taskbar_applications:function(){return i},opened_applications:function(){return p},getApplicationById:u,closeApplication:function(t){if(!t)throw new Error("id_not_found");return s.debug("Applications Factory -> Closing application -> id [%s]",t),p=p.filter(function(e){return e.id!==t}),i=i.filter(function(e){return e.id!==t||!0===e.pinned}),p},openApplication:function(e){if(!e)throw new Error("id_not_found");var t;if(s.debug("Applications Factory -> Opening application -> id [%s]",e),angular.isString(e)&&(t=u(e)),-1===c(t.id))return-1===l(t.id)&&d({id:t.id}),p.push(t),a.resolve(p)},isActiveApplication:m,toggleApplication:function(e){if(null===e)return t.taskbar__item_open=null;if(!e)throw new Error("id_not_found");if(m(e))return t.taskbar__item_open=null;t.taskbar__item_open=e},isApplicationPinned:function(t){if(!t)throw new Error("id_not_found");var e=i.filter(function(e){return e.id===t})[0];return!!e&&e.pinned},getInstalledApplications:function(){return e.getFileSystemPath("/bin/applications",function(e){return s.debug("Applications Factory -> Get Installed Applications successfully"),e},function(e){s.error("Applications Factory -> Error while getting installed applications -> ",e.error)})},getTaskBarApplications:function(){o.getConfigFile("desktop/task_bar.json",function(e){s.debug("Applications Factory -> Get TaskBar Applications successfully"),d({id:"start",pinned:!0}),angular.forEach(e.data,function(e){d(e)})},function(e){s.error("Applications Factory -> Error while getting TaskBar applications -> ",e.error)})},saveTaskBarApplicationsOrder:function(e){if(!e)throw new Error("applications_not_found");var t=e.filter(function(e){return delete e.$$hashKey,!0===e.pinned&&"start"!==e.id});return o.saveConfigToFile(t,"desktop/task_bar.json",!0,function(){s.debug("Applications Factory -> TaskBar applications saved")},function(e){s.debug("Applications Factory -> Error while saving TaskBar applications -> ",e.error)})}}}])}(),function(){"use strict";SysOS.factory("connectionsFactory",["$rootScope","$injector","$filter","$timeout","$log","socket","ServerFactory","toastr","uuid",function(e,a,r,n,i,s,o,p,l){var c={standalone:[],virtual:[],storage:[],sftp:[],ssh:[]},d=[],t=[],u=[],m=function(e){if(!e)throw new Error("uuid_not_found");var t=y(e).category;return t?"vmware"===t?"virtual":t:(i.error("Connections Factory [%s] -> getConnectionCategoryByUuid not found",e),!1)},v=function(t){if(!t)throw new Error("connection_not_found");var e;return t.refreshing&&delete t.refreshing,i.debug("Connections Factory [%s] -> Saving connection -> category [%s], host [%s]",t.uuid,t.category,t.host),"standalone"!==t.category&&"virtual"!==t.category&&"storage"!==t.category||(e="applications/smanager/config.json"),"ssh"===t.category&&(e="applications/ssh/config.json"),"sftp"===t.category&&(e="applications/sftp/config.json"),o.saveConfigToFile(t,e,!1,function(){i.debug("Connections Factory [%s] -> Saved connection successfully -> category [%s], host [%s]",t.uuid,t.category,t.host)},function(e){i.error("Connections Factory [%s] -> Error while saving connection -> category [%s], host [%s] -> ",t.uuid,t.category,t.host,e.error),p.error("Error while saving connection.","Infrastructure Manager")})},f=function(e,t){if(!e)throw new Error("connection_not_found");var a;if(i.debug("Connections Factory [%s] -> Setting new connection -> category [%s], host [%s]",e.uuid,e.category,e.host),"standalone"===e.category&&("linux"===e.so&&(a=t?c.standalone.push(e)-1:c.standalone.push({uuid:e.uuid,host:e.host,port:e.port,category:e.category,description:e.description,credential:e.credential,state:"new",so:e.so,autologin:e.autologin,save:!0,folder:e.folder})-1),"snmp"===e.so&&(a=t?c.standalone.push(e)-1:c.standalone.push({uuid:e.uuid,host:e.host,port:e.port,category:e.category,description:e.description,credential:e.credential,state:"new",so:e.so,autologin:e.autologin,save:!0,folder:e.folder,oids:e.oids})-1),d.push({uuid:e.uuid,object:"_this.connections.standalone["+a+"]"}),!0===e.autologin))return h(e);if("virtual"===e.category){if(t)a=c.virtual.push(e)-1;else{if(0<r("filter")(c.virtual,{host:e.host}).length)return i.error("Connections Factory -> Error while setting new connection ->  host [%s] -> Connection already exists",e.category,e.host),p.error("Node ("+e.host+") already exists. Please modify the existing connection properties or ReScan the node.","Error getting data from vCenter");a=c.virtual.push({uuid:e.uuid,host:e.host,port:e.port,so:e.so,category:e.category,description:e.description,credential:e.credential,save:!0})-1}if(d.push({uuid:e.uuid,object:"_this.connections.virtual["+a+"]"}),!0===e.autologin&&!t)return h(e)}if("storage"===e.category&&"netapp"===e.so){if(t)a=c.storage.push(e)-1;else{if(0<r("filter")(c.storage,{host:e.host}).length)return i.error("Connections Factory -> Error while setting new connection ->  host [%s] -> Connection already exists",e.category,e.host),p.error("Node ("+e.host+") already exists. Please modify the existing connection properties or ReScan the node.","Error getting data from NetApp");a=c.storage.push({uuid:e.uuid,host:e.host,port:e.port,so:e.so,category:e.category,description:e.description,credential:e.credential,autologin:e.autologin,save:!0})-1}if(d.push({uuid:e.uuid,object:"_this.connections.storage["+a+"]"}),!0===e.autologin&&!t)return h(e)}return"ssh"===e.category&&(a=t?c.ssh.push(e)-1:c.ssh.push({uuid:e.uuid,host:e.host,port:e.port,category:e.category,description:e.description,credential:e.credential,state:"new",autologin:e.autologin,save:e.save})-1,d.push({uuid:e.uuid,object:"_this.connections.ssh["+a+"]"}),!e.save||!0===e.save&&!0===e.autologin)?h(e):"sftp"===e.category&&(a=t?c.sftp.push(e)-1:c.sftp.push({uuid:e.uuid,host:e.host,port:e.port,category:e.category,description:e.description,credential:e.credential,state:"new",currentPath:"/",currentData:"",autologin:e.autologin,save:e.save})-1,d.push({uuid:e.uuid,object:"_this.connections.sftp["+a+"]"}),!e.save||!0===e.save&&!0===e.autologin)?h(e):void 0},h=function(t){if(!t)throw new Error("connection_not_found");var e=a.get("smanagerFactory");return i.debug("Connections Factory -> Connect received -> category [%s], so [%s], host [%s]",t.category,t.so,t.host),t.uuid?("linux"!==t.so&&"snmp"!==t.so||(t.save&&v(t),s.emit("session__new","smanager",t.host,t.credential,null,t.uuid,t.so)),"virtual"===t.category&&"vmware"===t.so&&e.getVMwareData(t),"storage"===t.category&&"netapp"===t.so&&e.getNetAppData(t),"ssh"===t.category&&(t.save&&v(t),u[t.uuid]=new Terminal({cursorBlink:!0}),u[t.uuid].on("data",function(e){s.emit("ssh_session__data",e,t.uuid)}),n(function(){var e=document.getElementById("terminal-container-"+t.uuid);u[t.uuid].open(e,{focus:!0}),s.emit("ssh_session__geometry",u[t.uuid].cols,u[t.uuid].rows,t.uuid),s.emit("session__new","ssh",t.host,t.credential,null,t.uuid)},100)),"sftp"===t.category&&(t.save&&v(t),s.emit("session__new","sftp",t.host,t.credential,null,t.uuid)),t):(i.debug("Connections Factory -> Connect received -> No uuid found -> category [%s], so [%s], host [%s]",t.category,t.so,t.host),t.uuid=l.v4(),f(t))},g=function(e){if(!e)throw new Error("uuid_not_found");i.debug("Connections Factory [%s] -> Disconnecting connection",e);var t=m(e);"stfp"!==t&&"ssh"!==t&&"linux"!==t||s.emit("session__disconnect",e),y(e).state="disconnected",y(e).status="Disconnected"},y=function(e){if(!e)throw new Error("uuid_not_found");var t=r("filter")(c.standalone,{uuid:e})[0],a=r("filter")(c.virtual,{uuid:e})[0],n=r("filter")(c.storage,{uuid:e})[0],s=r("filter")(c.ssh,{uuid:e})[0],o=r("filter")(c.sftp,{uuid:e})[0];return t||(a||(n||(s||(o||(r("filter")(d,{uuid:e})[0]?void 0:(i.error("Connections Factory [%s] -> getConnectionByUuid not found",e),!1))))))};return{connections:function(){return c},setSavedConnections:function(e){if(!e)throw new Error("connections_not_found");return i.debug("Connections Factory -> Setting saved connections -> #[%s]",e.length),angular.forEach(e,function(e){return i.debug("Connections Factory [%s] -> Setting saved connections -> category [%s], host [%s]",e.uuid,e.category,e.host),f(e,!0)})},saveConnection:v,connect:h,disconnectConnection:g,deleteConnection:function(t){if(!t)throw new Error("uuid_not_found");var e;i.debug("Connections Factory [%s] -> Deleting connection",t);var a=m(t);return g(t),c[a]=c[a].filter(function(e){return e.uuid!==t}),"virtual"!==a&&"storage"!==a&&"standalone"!==a||(e="applications/smanager/config.json"),"ssh"===a&&(e="applications/ssh/config.json"),"sftp"===a&&(e="applications/sftp/config.json"),o.deleteConfigFromFile(t,e,function(){i.debug("Connections Factory [%s] -> Connection deleted successfully",t),p.success("Connection deleted.","Infrastructure Manager")},function(e){i.error("Connections Factory [%s] -> Error while deleting connection -> ",t,e.error),p.error("Error while deleting connection.","Infrastructure Manager")})},getConnectionByUuid:y,getConnectionByCategory:function(e){return c[e]},setUuidMap:function(e){d=e},getUuidMap:function(){return d},getSSHTerminals:function(){return u},saveUuidMap:function(){return i.debug("Connections Factory -> Saving uuidMap"),o.saveConfigToFile(d,"applications/smanager/map.json",!0,function(){i.debug("Connections Factory -> uuidMap saved successfully")},function(e){i.error("Connections Factory -> Error while saving uuidMap -> ",e.error),p.error("Error while saving Uuid Map.","Infrastructure Manager")})},saveLinksMap:function(e){if(!e)throw new Error("links_not_found");return i.debug("Connections Factory -> Saving linksMap"),angular.extend(t,t[0],e),o.saveConfigToFile(t,"applications/smanager/links.json",!0,function(){i.debug("Connections Factory -> linksMap saved successfully")},function(e){i.error("Connections Factory -> Error while saving linksMap -> ",e.error),p.error("Error while saving Links Map.","Infrastructure Manager")})},getObjectByUuidMapping:function(e,t){if(!e)throw new Error("uuid_not_found");var a,n="";if(!(a=r("filter")(d,{uuid:e})[0]))return i.error("Connections Factory [%s] -> getObjectByUuidMapping not found",e),!1;t||(n=a.object);for(var s=0;s<=3&&a.parent;s++){if(!(a=r("filter")(d,{uuid:a.parent})[0])&&!a)return i.error("Connections Factory [%s] -> getObjectByUuidMapping parent not found",e),!1;0===s&&2<=t||1===s&&3<=t||(n=a.object+"."+n)}return 1<=t?n.slice(0,-1):n}}}])}(),function(){"use strict";SysOS.factory("fileSystemFactory",["ServerFactory","Upload","toastr",function(s,e,a){return{getFileSystemPath:function(e,t){return s.getFileSystemPath(e,function(e){return t(e.data)},function(e){console.log("Error: "+e)})},uploadFile:function(t){return t.upload=e.upload({url:"/api/file/upload",method:"POST",headers:{"Content-Type":t.type},data:{file:t,path:t.path}}),t.upload.progress(function(e){t.progress=Math.min(100,parseInt(100*e.loaded/e.total))}),t.upload.then(function(e){return t.result=e.data},function(e){if(0<e.status){var t=e.status+": "+e.data;a.error(t,"Error")}})},getFileType:function(e){return"d"===e.charAt(0)?"folder":"l"===e.charAt(0)?"folder":"-"===e.charAt(0)&&"x"===e.charAt(3)?"file-code-o":"-"===e.charAt(0)?"file":void 0},getFileContents:function(e,t){return s.getFileContents(e,function(e){return t(e.data)},function(e){console.log("Error: "+e)})},renameFile:function(e,t,a,n){return s.renameFile({path:e,oldName:t,newName:a},function(e){return n(e.data)},function(e){console.log("Error: "+e)})},createFolder:function(e,t,a){return s.createFolder({path:e,name:t},function(e){return a(e.data)},function(e){console.log("Error: "+e)})},deleteFile:function(e,t,a){return s.deleteFile({path:e,name:t},function(e){return a(e.data)},function(e){console.log("Error: "+e)})},downloadFileFromInet:function(e,t,a,n){return s.downloadFileFromInet(e,t,a,function(e){return n(e.data)},function(e){console.log("Error: "+e)})},copyFile:function(e,t,a){return s.copyFile(e,t,function(e){return a(e.data)},function(e){console.log("Error: "+e)})},moveFile:function(e,t,a){return s.moveFile(e,t,function(e){return a(e.data)},function(e){console.log("Error: "+e)})}}}])}(),function(){"use strict";SysOS.factory("modalFactory",["$uibModal","$document",function(s,o){var r=[],i=[],e=function(e){i[e.modalId]=e},p=function(e,t,a){var n=angular.element(o[0].querySelector(t));if(n.length)return r[t]=s.open({templateUrl:i[e].templateUrl,controller:i[e].controller,controllerAs:i[e].controllerAs,backdropClass:"absolute",windowClass:"absolute",backdrop:"static",size:i[e].size,appendTo:n,resolve:a}),r[t]};return e({modalId:"plain",templateUrl:"templates/utils/modals/plain.html",size:"sm",controllerAs:"pmC",controller:["title","text","$uibModalInstance",function(e,t,a){this.title=e,this.text=t,this.close=function(){a.close()}}]}),e({modalId:"question",templateUrl:"templates/utils/modals/question.html",size:"sm",controllerAs:"qmC",controller:["title","text","$uibModalInstance",function(e,t,a){this.title=e,this.text=t,this.yes=function(){a.close(!0)},this.no=function(){a.close()},this.close=function(){a.close()}}]}),e({modalId:"input",templateUrl:"templates/utils/modals/input.html",size:"sm",controllerAs:"imC",controller:["title","text","button_text","inputValue","$uibModalInstance",function(e,t,a,n,s){var o=this;this.title=e,this.text=t,this.button_text=a,this.inputValue=n,this.yes=function(){s.close(o.inputValue)},this.no=function(){s.close()},this.close=function(){s.close()}}]}),{registerModal:e,openLittleModal:function(e,t,a,n){return p(n,a,{title:function(){return e},text:function(){return t}})},openRegistredModal:p,changeModalText:function(e,t){angular.element(o[0].querySelector(t)).length&&angular.element(o[0].querySelector(t+" .modal")).length&&(angular.element(o[0].querySelector(t+" .modal")).scope().pmC.text=e)},closeModal:function(e){r[e]&&r[e].close("ok")}}}])}(),function(){"use strict";SysOS.factory("netappFactory",["ApplicationsFactory","ServerFactory","$q",function(e,d,u){var m=function(e,n){return n||(n={}),angular.forEach(e,function(e,a){Array.isArray(e)&&1===e.length&&e[0]!==Object(e[0])?n[a]=e[0]:Array.isArray(e)&&1===e.length&&e[0]===Object(e[0])?n[a]=m(e[0],n[a]):Array.isArray(e)&&1<e.length&&e[0]===Object(e[0])?(n[a]=e,angular.forEach(e,function(e,t){n[a][t]=m(e,n[t])})):n[a]=e}),n},v=function(e){return{status:"error",error:e}},f=function(e){return{status:"ok",data:e}},i=function(a,n,s,o,r,e){var t="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><qtree-list-iter><max-records>10</max-records>"+(e?"<tag>"+e+"</tag>":"")+"</qtree-list-iter></netapp>";return d.callNetApp(a,n,s,null,t).then(function(e){if("error"===e.data.status)return v(e.data.data.errno);if("failed"===e.data.data.response.netapp.results[0].$.status)return v(e.data.data.response.netapp.results[0].$.reason);if(e.data.data.response.netapp.results[0]["attributes-list"]&&(angular.forEach(e.data.data.response.netapp.results[0]["attributes-list"][0]["qtree-info"],function(e){r.push(m(e))}),e.data.data.response.netapp.results[0]["next-tag"])){var t=e.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return i(a,n,s,o,r,t)}return f(r)})},p=function(a,n,s,o,r,e){var t="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><net-interface-get-iter><max-records>10</max-records>"+(e?"<tag>"+e+"</tag>":"")+"</net-interface-get-iter></netapp>";return d.callNetApp(a,n,s,null,t).then(function(e){if("error"===e.data.status)return v(e.data.data.errno);if("failed"===e.data.data.response.netapp.results[0].$.status)return v(e.data.data.response.netapp.results[0].$.reason);if(e.data.data.response.netapp.results[0]["attributes-list"]&&(angular.forEach(e.data.data.response.netapp.results[0]["attributes-list"][0]["net-interface-info"],function(e){r.push(m(e))}),e.data.data.response.netapp.results[0]["next-tag"])){var t=e.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return p(a,n,s,o,r,t)}return f(r)})},l=function(a,n,s,o,r,e){var t="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><fcp-interface-get-iter><max-records>10</max-records>"+(e?"<tag>"+e+"</tag>":"")+"</fcp-interface-get-iter></netapp>";return d.callNetApp(a,n,s,null,t).then(function(e){if("error"===e.data.status)return v(e.data.data.errno);if("failed"===e.data.data.response.netapp.results[0].$.status)return v(e.data.data.response.netapp.results[0].$.reason);if(e.data.data.response.netapp.results[0]["attributes-list"]&&(angular.forEach(e.data.data.response.netapp.results[0]["attributes-list"][0]["fcp-interface-info"],function(e){r.push(m(e))}),e.data.data.response.netapp.results[0]["next-tag"])){var t=e.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return l(a,n,s,o,r,t)}return f(r)})},r=function(a,n,s,o,e){var t="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><fcp-adapter-get-iter><max-records>10</max-records>"+(e?"<tag>"+e+"</tag>":"")+"</fcp-adapter-get-iter></netapp>";return d.callNetApp(a,n,s,null,t).then(function(e){if("error"===e.data.status)return v(e.data.data.errno);if("failed"===e.data.data.response.netapp.results[0].$.status)return v(e.data.data.response.netapp.results[0].$.reason);if(e.data.data.response.netapp.results[0]["attributes-list"]&&(angular.forEach(e.data.data.response.netapp.results[0]["attributes-list"][0]["fcp-config-adapter-info"],function(e){o.push(m(e))}),e.data.data.response.netapp.results[0]["next-tag"])){var t=e.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return r(a,n,s,o,t)}return f(o)})},c=function(a,n,s,o,e){var t="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><vserver-get-iter><max-records>10</max-records>"+(e?"<tag>"+e+"</tag>":"")+"</vserver-get-iter></netapp>";return d.callNetApp(a,n,s,null,t).then(function(e){if("error"===e.data.status)return v(e.data.data.errno);if("failed"===e.data.data.response.netapp.results[0].$.status)return v(e.data.data.response.netapp.results[0].$.reason);if(e.data.data.response.netapp.results[0]["attributes-list"]&&(angular.forEach(e.data.data.response.netapp.results[0]["attributes-list"][0]["vserver-info"],function(e){o.push(m(e))}),e.data.data.response.netapp.results[0]["next-tag"])){var t=e.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return c(a,n,s,o,t)}return f(o)})},h=function(a,n,s,o,r,e){var t="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><volume-get-iter><max-records>10</max-records>"+(e?"<tag>"+e+"</tag>":"")+"</volume-get-iter></netapp>";return d.callNetApp(a,n,s,null,t).then(function(e){if("error"===e.data.status)return v(e.data.data.errno);if("failed"===e.data.data.response.netapp.results[0].$.status)return v(e.data.data.response.netapp.results[0].$.reason);if(e.data.data.response.netapp.results[0]["attributes-list"]&&(angular.forEach(e.data.data.response.netapp.results[0]["attributes-list"][0]["volume-attributes"],function(e){r.push(m(e))}),e.data.data.response.netapp.results[0]["next-tag"])){var t=e.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return h(a,n,s,o,r,t)}return f(r)})},g=function(a,n,s,o,r,i,e){var t="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><snapshot-get-iter><max-records>10</max-records>"+(r?"<query><snapshot-info><volume>"+r+"</volume></snapshot-info></query>":"")+(e?"<tag>"+e+"</tag>":"")+"</snapshot-get-iter></netapp>";return d.callNetApp(a,n,s,null,t).then(function(e){if("error"===e.data.status)return v(e.data.data.errno);if("failed"===e.data.data.response.netapp.results[0].$.status)return v(e.data.data.response.netapp.results[0].$.reason);if(e.data.data.response.netapp.results[0]["attributes-list"]&&(angular.forEach(e.data.data.response.netapp.results[0]["attributes-list"][0]["snapshot-info"],function(e){i.push(m(e))}),e.data.data.response.netapp.results[0]["next-tag"])){var t=e.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return g(a,n,s,o,r,i,t)}return f(i)})},y=function(n,s,o,r,i,p,l,t,e){var c=[],a="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(r?" vfiler='"+r+"'":"")+"><file-list-directory-iter><path>/vol/"+i+"/.snapshot/"+p+l+"</path>"+(e?"<tag>"+e+"</tag>":"")+"</file-list-directory-iter></netapp>";return d.callNetApp(n,s,o,null,a).then(function(a){if("error"===a.data.status)return v(a.data.data.errno);if("failed"===a.data.data.response.netapp.results[0].$.status)return v(a.data.data.response.netapp.results[0].$.reason);if(a.data.data.response.netapp.results[0]["attributes-list"]){if(angular.forEach(a.data.data.response.netapp.results[0]["attributes-list"][0]["file-info"],function(e){"."!==(e=m(e)).name&&".."!==e.name&&(e.path=l,t.push(e),"directory"===e["file-type"]&&c.push(y(n,s,o,r,i,p,l+"/"+e.name,t)))}),0<c.length)return u.all(c).then(function(e){if(e=e[0].data,a.data.data.response.netapp.results[0]["next-tag"]){var t=a.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return y(n,s,o,r,i,p,l,e,t)}return f(e)});if(a.data.data.response.netapp.results[0]["next-tag"]){var e=a.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return y(n,s,o,r,i,p,l,t,e)}}return f(t)})},w=function(a,n,s,o,r,i,e){var t="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(o?" vfiler='"+o+"'":"")+"><lun-get-iter><max-records>10</max-records>"+(r?"<query><lun-info><volume>"+r+"</volume></lun-info></query>":"")+(e?"<tag>"+e+"</tag>":"")+"</lun-get-iter></netapp>";return d.callNetApp(a,n,s,null,t).then(function(e){if("error"===e.data.status)return v(e.data.data.errno);if("failed"===e.data.data.response.netapp.results[0].$.status)return v(e.data.data.response.netapp.results[0].$.reason);if(e.data.data.response.netapp.results[0]["attributes-list"]&&(angular.forEach(e.data.data.response.netapp.results[0]["attributes-list"][0]["lun-info"],function(e){i.push(m(e))}),e.data.data.response.netapp.results[0]["next-tag"])){var t=e.data.data.response.netapp.results[0]["next-tag"][0].replace(/</g,"&lt;").replace(/>/g,"&gt;");return w(a,n,s,o,r,i,t)}return f(i)})};return{getSystemVersion:function(e,t,a){return d.callNetApp(e,t,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><system-get-version/></netapp>").then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f({build_timestamp:e.data.data.response.netapp.results[0]["build-timestamp"][0],is_clustered:e.data.data.response.netapp.results[0]["is-clustered"][0],version:e.data.data.response.netapp.results[0].version[0],version_tuple:{generation:e.data.data.response.netapp.results[0]["version-tuple"][0]["system-version-tuple"][0].generation[0],major:e.data.data.response.netapp.results[0]["version-tuple"][0]["system-version-tuple"][0].major[0],minor:e.data.data.response.netapp.results[0]["version-tuple"][0]["system-version-tuple"][0].minor[0]}})})},getOntapiVersion:function(e,t,a){return d.callNetApp(e,t,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><system-get-ontapi-version/></netapp>").then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f({major_version:e.data.data.response.netapp.results[0]["major-version"][0],minor_version:e.data.data.response.netapp.results[0]["minor-version"][0]})})},getLicenses:function(e,t,a){return d.callNetApp(e,t,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><license-v2-status-list-info/></netapp>").then(function(e){if("error"===e.data.status)return v(e.data.data.errno);if("failed"===e.data.data.response.netapp.results[0].$.status)return v(e.data.data.response.netapp.results[0].$.reason);var t=[];return angular.forEach(e.data.data.response.netapp.results[0]["license-v2-status"][0]["license-v2-status-info"],function(e){t.push(m(e))}),f(t)})},getMetrocluster:function(e,t,a){return d.callNetApp(e,t,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><metrocluster-get/></netapp>").then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f({local_cluster_name:e.data.data.response.netapp.results[0].attributes[0]["metrocluster-info"][0]["local-cluster-name"][0],local_configuration_state:e.data.data.response.netapp.results[0].attributes[0]["metrocluster-info"][0]["local-configuration-state"][0]})})},getClusterIdentity:function(e,t,a){return d.callNetApp(e,t,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'><cluster-identity-get/></netapp>").then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f({cluster_contact:e.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["cluster-contact"][0],cluster_location:e.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["cluster-location"][0],cluster_name:e.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["cluster-name"][0],cluster_serial_number:e.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["cluster-serial-number"][0],cluster_uuid:e.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["cluster-uuid"][0],rdb_uuid:e.data.data.response.netapp.results[0].attributes[0]["cluster-identity-info"][0]["rdb-uuid"][0]})})},getQtrees:function(e,t,a,n){return i(e,t,a,n,[])},getNetInterfaces:function(e,t,a,n){return p(e,t,a,n,[])},getFcpInterfaces:function(e,t,a,n){return l(e,t,a,n,[])},getFcpAdapters:function(e,t,a){return r(e,t,a,[])},getNFSStatus:function(e,t,a,n){return d.callNetApp(e,t,a,null,"<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><nfs-status/></netapp>").then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f({is_drained:e.data.data.response.netapp.results[0]["is-drained"][0],is_enabled:e.data.data.response.netapp.results[0]["is-enabled"][0]})})},getVservers:function(e,t,a){return c(e,t,a,[])},getVolumes:function(e,t,a,n){return h(e,t,a,n,[])},getSnapshots:function(e,t,a,n,s){return g(e,t,a,n,s,[])},getSnapshotFiles:function(e,t,a,n,s,o,r){return r||(r=""),y(e,t,a,n,s,o,r,[])},snapshotRestoreFile:function(e,t,a,n,s,o,r){var i="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><snapshot-restore-file><path>"+r+"</path><snapshot>"+o+"</snapshot><volume>"+s+"</volume></snapshot-restore-file></netapp>";return d.callNetApp(e,t,a,null,i).then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f(e.data.data.response.netapp)})},createSnapshot:function(e,t,a,n,s,o){var r="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><snapshot-create><async>False</async><snapshot>"+s+"_SysOS_"+(o||"")+"_"+(new Date).toISOString().split(".")[0].replace(/:/g,"")+"</snapshot><volume>"+s+"</volume></snapshot-create></netapp>";return d.callNetApp(e,t,a,null,r).then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f(e.data.data.response.netapp.results[0].$.status)})},deleteSnapshot:function(e,t,a,n,s,o,r){var i="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><snapshot-delete><snapshot>"+o+"</snapshot>"+(r?"<snapshot-instance-uuid>"+r+"</snapshot-instance-uuid>":"")+"<volume>"+s+"</volume></snapshot-delete></netapp>";return d.callNetApp(e,t,a,null,i).then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f(e.data.data.response.netapp.results[0].$.status)})},getLuns:function(e,t,a,n,s){return w(e,t,a,n,s,[])},getFileInfo:function(e,t,a,n,s,o){var r="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><file-get-file-info><path>/vol/"+s+"/.snapshot/"+o+"</path></file-get-file-info></netapp>";return d.callNetApp(e,t,a,null,r).then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f(e)})},cloneVolumeFromSnapshot:function(e,t,a,n,s,o){var r="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><volume-clone-create><parent-volume>"+s+"</parent-volume><volume>SysOS_"+s+"_Restore</volume><space-reserve>none</space-reserve><parent-snapshot>"+o+"</parent-snapshot></volume-clone-create></netapp>";return d.callNetApp(e,t,a,null,r).then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f(e.data.data.response.netapp.results[0].$.status)})},mountVolume:function(e,t,a,n,s){var o="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><volume-mount><activate-junction>true</activate-junction><junction-path>/SysOS_"+s+"_Restore</junction-path><volume-name>SysOS_"+s+"_Restore</volume-name><export-policy-override>false</export-policy-override></volume-mount></netapp>";return d.callNetApp(e,t,a,null,o).then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f(e.data.data.response.netapp.results[0].$.status)})},unmountVolume:function(e,t,a,n,s){var o="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><volume-unmount><volume-name>SysOS_"+s+"_Restore</volume-name><force>True</force></volume-unmount></netapp>";return d.callNetApp(e,t,a,null,o).then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f(e.data.data.response.netapp.results[0].$.status)})},setVolumeOffline:function(e,t,a,n,s){var o="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><volume-offline><name>SysOS_"+s+"_Restore</name></volume-offline></netapp>";return d.callNetApp(e,t,a,null,o).then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f(e.data.data.response.netapp.results[0].$.status)})},destroyVolume:function(e,t,a,n,s){var o="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><volume-destroy><name>SysOS_"+s+"_Restore</name></volume-destroy></netapp>";return d.callNetApp(e,t,a,null,o).then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):f(e.data.data.response.netapp.results[0].$.status)})},getNFSExportRulesList:function(e,t,a,n,s){var o=[],r="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><nfs-exportfs-list-rules-2><pathname>/"+s+"</pathname><persistent>True</persistent></nfs-exportfs-list-rules-2></netapp>";return d.callNetApp(e,t,a,null,r).then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):(angular.forEach(e.data.data.response.netapp.results[0].rules[0]["exports-rule-info-2"][0]["security-rules"][0]["security-rule-info"],function(e){o.push(m(e))}),console.log("getNFSExportRulesList",o),f(e))})},getExportRules:function(e,t,a,n,s){var o=[],r="<netapp version='1.15' xmlns='http://www.netapp.com/filer/admin'"+(n?" vfiler='"+n+"'":"")+"><export-rule-get-iter>"+(s?"<query><export-rule-info><policy-name>"+s+"</policy-name></export-rule-info></query>":"")+"</export-rule-get-iter></netapp>";return d.callNetApp(e,t,a,null,r).then(function(e){return"error"===e.data.status?v(e.data.data.errno):"failed"===e.data.data.response.netapp.results[0].$.status?v(e.data.data.response.netapp.results[0].$.reason):(angular.forEach(e.data.data.response.netapp.results[0]["attributes-list"][0]["export-rule-info"],function(e){o.push(m(e))}),console.log("getExportRules",o),f(e))})}}}])}(),function(){"use strict";SysOS.factory("vmwareFactory",["ApplicationsFactory","ServerFactory","$q","$timeout","toastr",function(e,d,t,u,a){var m=function(e){var n={};return e===Object(e)&&2===Object.keys(e).length&&e.hasOwnProperty("name")&&e.hasOwnProperty("val")?void 0===e[e.name[0]]?n[e.name[0]]=m(e.val):n[e[e.name[0]]]=m(e.val):e===Object(e)&&2===Object.keys(e).length&&e.hasOwnProperty("$")&&e.hasOwnProperty("_")?e.$.type?(n.type=e.$.type,n.name=e._):n=e._:angular.forEach(e,function(t,e){if(t===Object(t)&&2===Object.keys(t).length&&t.hasOwnProperty("$")&&t.hasOwnProperty("_"))return t.$.type?(n.type=t.$.type,n.name=t._):n=t._,n;if(Array.isArray(t)&&1===t.length&&t[0]!==Object(t[0]))n[e]=t[0];else if(Array.isArray(t)&&1===t.length&&t[0]===Object(t[0]))n[e]=m(t[0]);else if(t===Object(t)&&1===Object.keys(t).length&&t.hasOwnProperty("xsi:type"))n.xsi_type=t["xsi:type"];else{if(t===Object(t))return angular.forEach(t,function(e,a){Array.isArray(e)&&1===e.length&&e[0]!==Object(e[0])?n[a]=e[0]:Array.isArray(e)&&1===e.length&&e[0]===Object(e[0])?n[a]=m(e[0]):"$"===a&&e===Object(e)&&1===Object.keys(e).length&&e.hasOwnProperty("xsi:type")||(e===Object(e)&&2===Object.keys(e).length&&e.hasOwnProperty("name")&&e.hasOwnProperty("val")?n[e.name[0]]=m(e.val):Array.isArray(e)&&1<e.length&&e[0]===Object(e[0])?(n[a]=e,angular.forEach(e,function(e,t){n[a][t]=m(e)})):e===Object(e)?n[a]=m(e):"string"==typeof e||(n[a]=e,console.log(t,e,a,e===Object(e),e.length,e.hasOwnProperty("xsi:type"),Array.isArray(e),"errrrrr parsing")))}),n;if("string"!=typeof t)return console.log(t,e,"errrrrr2 parsing"),n[e]=t,n;n[e]=t}}),n},v=function(e){return{status:"error",error:e}},f=function(e){return{status:"ok",data:e}},h=function(i,p,l,c){var e='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>Task</type><pathSet>info.progress</pathSet><pathSet>info.state</pathSet><pathSet>info.cancelable</pathSet></propSet><objectSet><obj type="Task">'+c+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return d.callVcenterSoap(i,p,l,"urn:vim25/6.0",e).then(function(e){if("error"===e.data.status)return v(e.data.data);var t,a,n,s,o,r=m(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0]);return"running"===r["info.state"]?(console.log(r),u(function(){return h(i,p,l,c)},2e3)):(t=i,a=p,n=l,s=c,o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>Task</type><pathSet>info</pathSet></propSet><objectSet><obj type="Task">'+s+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>",d.callVcenterSoap(t,a,n,"urn:vim25/6.0",o).then(function(e){if("error"===e.data.status)return v(e.data.data);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(e){t.push(m(e))}),t})).then(function(e){return e})})};return{getClientVersion:function(e,t){return d.getVMwareClientVersion(e,t).then(function(e){return"error"===e.data.status?v(e.data.data):f(e.data.data.response.ConfigRoot.clientConnection[0])})},connectvCenterSoap:function(e,t,a){return d.connectvCenterSoap(e,t,a).then(function(e){return"error"===e.data.status?v(e.data.data):f(e.data)})},registerExtension:function(e,t,a){return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",'<?xml version="1.0" encoding="UTF-8"?>\n<soapenv:Envelope xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/" xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n    <soapenv:Body>\n        <RegisterExtension xmlns="urn:vim25">\n            <_this type="ExtensionManager">ExtensionManager</_this>\n            <extension>\n                <description>\n                    <label>SysOS Management</label>\n                    <summary>SysOS management extension for VMware vSphere</summary>\n                </description>\n                <key>com.sysos.management</key>\n                <company>SysOS</company>\n                <version>1.0</version>\n                <subjectName>SysOS Management</subjectName>\n                <client>\n                    <version>1.0</version>\n                    <description>\n                        <label>SysOS Management</label>\n                        <summary>SysOS management extension for VMware vSphere</summary>\n                    </description>\n                    <company>SysOS</company>\n                    <type>com.vmware.vim.viClientScripts</type>\n                    <url>https://github.com/infnada/SysOS</url>\n                </client>\n                <taskList>\n                    <taskID>com.sysos.management.backup</taskID>\n                </taskList>\n                <resourceList>\n                    <locale>en</locale>\n                    <module>task</module>\n                    <data>\n                        <key>com.sysos.management.backup.label</key>\n                        <value>SysOS Create Backup</value>\n                    </data>\n                </resourceList>\n\t             <resourceList>\n                    <locale>en_US</locale>\n                    <module>task</module>\n                    <data>\n                        <key>com.sysos.management.backup.label</key>\n                        <value>SysOS Create Backup</value>\n                    </data>\n                </resourceList>\n                <lastHeartbeatTime xsi:type="xsd:dateTime">2018-05-25T18:22:35.465+02:00</lastHeartbeatTime>\n            </extension>\n        </RegisterExtension>\n    </soapenv:Body>\n</soapenv:Envelope>').then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RegisterExtensionResponse[0])})},findSysOSExtension:function(e,t,a){return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",'<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/" xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soapenv:Body><FindExtension xmlns="urn:vim25"><_this type="ExtensionManager">ExtensionManager</_this><extensionKey>com.sysos.management</extensionKey></FindExtension></soapenv:Body></soapenv:Envelope>').then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].FindExtensionResponse[0])})},createTask:function(e,t,a,n,s,o){var r='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><CreateTask xmlns="urn:vim25"><_this type="TaskManager">TaskManager</_this><obj type="'+s+'">'+o+"</obj><taskTypeId>"+n+"</taskTypeId><initiatedBy>SysOS Administrator</initiatedBy><cancelable>false</cancelable></CreateTask></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",r).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(m(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].CreateTaskResponse[0].returnval[0]))})},setTaskState:function(e,t,a,n,s){var o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><SetTaskState xmlns="urn:vim25"><_this type="Task">'+n+"</_this><state>"+s+"</state>"+("error"===s?"<fault><faultMessage><key>0</key><message>Error</message></faultMessage></fault>":"")+"</SetTaskState></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",o).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(m(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].SetTaskStateResponse[0]))})},updateTaskProgress:function(e,t,a,n,s){var o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><UpdateProgress xmlns="urn:vim25"><_this type="Task">'+n+"</_this><percentDone>"+s+"</percentDone></UpdateProgress></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",o).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(m(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].UpdateProgressResponse[0]))})},acquireVMTicket:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><AcquireTicket xmlns="urn:vim25"><_this type="VirtualMachine">'+n+'</_this><ticketType xsi:type="xsd:string">webmks</ticketType></AcquireTicket></soap:Body></soap:Envelope>';return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].AcquireTicketResponse[0].returnval[0])})},acquireNFCTicket:function(e,t,a,n,s){var o='<?xml version="1.0" encoding="UTF-8"?><SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:vim="urn:internalvim25"><SOAP-ENV:Body><vim:NfcFileManagement xsi:type="vim:NfcFileManagementRequestType"><vim:_this xsi:type="vim:ManagedObjectReference" type="NfcService">nfcService</vim:_this><vim:ds xsi:type="vim:ManagedObjectReference" type="Datastore">'+s+'</vim:ds><vim:hostForAccess xsi:type="vim:ManagedObjectReference" type="HostSystem">'+n+"</vim:hostForAccess></vim:NfcFileManagement></SOAP-ENV:Body></SOAP-ENV:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",o).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].NfcFileManagementResponse[0].returnval[0])})},getHosts:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?>\n<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n    <soap:Body>\n        <RetrieveProperties xmlns="urn:vim25">\n            <_this type="PropertyCollector">propertyCollector</_this>\n            <specSet>\n                <propSet>\n                    <type>HostSystem</type>\n                    <all>true</all>\n                </propSet>\n                <objectSet>\n                    <obj type="Folder">'+n+'</obj>\n                    <skip>false</skip>\n                    <selectSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="TraversalSpec">\n                        <name>folderTraversalSpec</name>\n                        <type>Folder</type>\n                        <path>childEntity</path>\n                        <skip>false</skip>\n                        <selectSet>\n                            <name>folderTraversalSpec</name>\n                        </selectSet>\n                        <selectSet>\n                            <name>datacenterHostTraversalSpec</name>\n                        </selectSet>\n                        <selectSet>\n                            <name>datacenterVmTraversalSpec</name>\n                        </selectSet>\n                        <selectSet>\n                            <name>datacenterDatastoreTraversalSpec</name>\n                        </selectSet>\n                        <selectSet>\n                            <name>datacenterNetworkTraversalSpec</name>\n                        </selectSet>\n                        <selectSet>\n                            <name>computeResourceRpTraversalSpec</name>\n                        </selectSet>\n                        <selectSet>\n                            <name>computeResourceHostTraversalSpec</name>\n                        </selectSet>\n                        <selectSet>\n                            <name>hostVmTraversalSpec</name>\n                        </selectSet>\n                        <selectSet>\n                            <name>resourcePoolVmTraversalSpec</name>\n                        </selectSet>\n                    </selectSet>\n                    <selectSet xsi:type="TraversalSpec">\n                        <name>datacenterDatastoreTraversalSpec</name>\n                        <type>Datacenter</type>\n                        <path>datastoreFolder</path>\n                        <skip>false</skip>\n                        <selectSet>\n                            <name>folderTraversalSpec</name>\n                        </selectSet>\n                    </selectSet>\n                    <selectSet xsi:type="TraversalSpec">\n                        <name>datacenterNetworkTraversalSpec</name>\n                        <type>Datacenter</type>\n                        <path>networkFolder</path>\n                        <skip>false</skip>\n                        <selectSet>\n                            <name>folderTraversalSpec</name>\n                        </selectSet>\n                    </selectSet>\n                    <selectSet xsi:type="TraversalSpec">\n                        <name>datacenterVmTraversalSpec</name>\n                        <type>Datacenter</type>\n                        <path>vmFolder</path>\n                        <skip>false</skip>\n                        <selectSet>\n                            <name>folderTraversalSpec</name>\n                        </selectSet>\n                    </selectSet>\n                    <selectSet xsi:type="TraversalSpec">\n                        <name>datacenterHostTraversalSpec</name>\n                        <type>Datacenter</type>\n                        <path>hostFolder</path>\n                        <skip>false</skip>\n                        <selectSet>\n                            <name>folderTraversalSpec</name>\n                        </selectSet>\n                    </selectSet>\n                    <selectSet xsi:type="TraversalSpec">\n                        <name>computeResourceHostTraversalSpec</name>\n                        <type>ComputeResource</type>\n                        <path>host</path>\n                        <skip>false</skip>\n                    </selectSet>\n                    <selectSet xsi:type="TraversalSpec">\n                        <name>computeResourceRpTraversalSpec</name>\n                        <type>ComputeResource</type>\n                        <path>resourcePool</path>\n                        <skip>false</skip>\n                        <selectSet>\n                            <name>resourcePoolTraversalSpec</name>\n                        </selectSet>\n                        <selectSet>\n                            <name>resourcePoolVmTraversalSpec</name>\n                        </selectSet>\n                    </selectSet>\n                    <selectSet xsi:type="TraversalSpec">\n                        <name>resourcePoolTraversalSpec</name>\n                        <type>ResourcePool</type>\n                        <path>resourcePool</path>\n                        <skip>false</skip>\n                        <selectSet>\n                            <name>resourcePoolTraversalSpec</name>\n                        </selectSet>\n                        <selectSet>\n                            <name>resourcePoolVmTraversalSpec</name>\n                        </selectSet>\n                    </selectSet>\n                    <selectSet xsi:type="TraversalSpec">\n                        <name>hostVmTraversalSpec</name>\n                        <type>HostSystem</type>\n                        <path>vm</path>\n                        <skip>false</skip>\n                        <selectSet>\n                            <name>folderTraversalSpec</name>\n                        </selectSet>\n                    </selectSet>\n                    <selectSet xsi:type="TraversalSpec">\n                        <name>resourcePoolVmTraversalSpec</name>\n                        <type>ResourcePool</type>\n                        <path>vm</path>\n                        <skip>false</skip>\n                    </selectSet>\n                </objectSet>\n            </specSet>\n        </RetrieveProperties>\n    </soap:Body>\n</soap:Envelope>';return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(e){t.push(m(e))}),f(t)})},getHostConnectionState:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>HostSystem</type><all>false</all><pathSet>runtime.connectionState</pathSet></propSet><objectSet><obj type="HostSystem">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0].propSet[0].val[0]._)})},getHostConfigManagerNetworkSystem:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>HostSystem</type><all>false</all><pathSet>configManager.networkSystem</pathSet></propSet><objectSet><obj type="HostSystem">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0].propSet[0].val[0]._)})},getHostConfigManagerDatastoreSystem:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>HostSystem</type><all>false</all><pathSet>configManager.datastoreSystem</pathSet></propSet><objectSet><obj type="HostSystem">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0].propSet[0].val[0]._)})},getHostNetworkInfoVnic:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>HostNetworkSystem</type><pathSet>networkInfo.vnic</pathSet></propSet><objectSet><obj type="HostNetworkSystem">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(e){t.push(m(e))}),f(t)})},getHostNetworkInfoConsoleVnic:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>HostNetworkSystem</type><pathSet>networkInfo.consoleVnic</pathSet></propSet><objectSet><obj type="HostNetworkSystem">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(e){t.push(m(e))}),f(t)})},getDatastores:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?>\n<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n    <soap:Body>\n        <RetrieveProperties xmlns="urn:vim25">\n            <_this type="PropertyCollector">propertyCollector</_this>\n            <specSet xsi:type="PropertyFilterSpec">\n                <propSet xsi:type="PropertySpec">\n                    <type xsi:type="xsd:string">Datastore</type>\n                    <all xsi:type="xsd:boolean">true</all>\n                </propSet>\n                <objectSet xsi:type="ObjectSpec">\n                    <obj type="Folder" xsi:type="ManagedObjectReference">'+n+'</obj>\n                    <skip xsi:type="xsd:boolean">true</skip>\n                    <selectSet xsi:type="TraversalSpec">\n                        <type xsi:type="xsd:string">Folder</type>\n                        <path xsi:type="xsd:string">childEntity</path>\n                        <skip xsi:type="xsd:boolean">true</skip>\n                        <selectSet xsi:type="TraversalSpec">\n                            <type xsi:type="xsd:string">Datacenter</type>\n                            <path xsi:type="xsd:string">datastore</path>\n                            <skip xsi:type="xsd:boolean">false</skip>\n                        </selectSet>\n                    </selectSet>\n                </objectSet>\n            </specSet>\n        </RetrieveProperties>\n    </soap:Body>\n</soap:Envelope>';return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(e){t.push(m(e))}),f(t)})},getDatastoresWithVMsData:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?>\n<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n    <soap:Body>\n        <RetrieveProperties xmlns="urn:vim25">\n            <_this type="PropertyCollector">propertyCollector</_this>\n            <specSet>\n                <propSet>\n                    <type>Datastore</type>\n                    <all>false</all>\n                    <pathSet>info</pathSet>\n                    <pathSet>host</pathSet>\n                    <pathSet>vm</pathSet>\n                </propSet>\n                <propSet>\n                    <type>VirtualMachine</type>\n                    <all>false</all>\n                    <pathSet>config</pathSet>\n                    <pathSet>layout</pathSet>\n                    <pathSet>runtime</pathSet>\n                </propSet>\n                <objectSet>\n                    <obj type="Folder">'+n+'</obj>\n                    <skip>true</skip>\n                    <selectSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="TraversalSpec">\n                        <name>visitFolders</name>\n                        <type>Folder</type>\n                        <path>childEntity</path>\n                        <skip>true</skip>\n                        <selectSet>\n                            <name>visitFolders</name>\n                        </selectSet>\n                        <selectSet xsi:type="TraversalSpec">\n                            <type>Datacenter</type>\n                            <path>datastore</path>\n                            <skip>false</skip>\n                            <selectSet xsi:type="TraversalSpec">\n                                <type>Datastore</type>\n                                <path>vm</path>\n                                <skip>false</skip>\n                            </selectSet>\n                        </selectSet>\n                        <selectSet xsi:type="TraversalSpec">\n                            <type>Datastore</type>\n                            <path>vm</path>\n                            <skip>false</skip>\n                        </selectSet>\n                    </selectSet>\n                </objectSet>\n            </specSet>\n        </RetrieveProperties>\n    </soap:Body>\n</soap:Envelope>';return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(e){t.push(m(e))}),f(t)})},getDatastoreProps:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>Datastore</type><all>true</all></propSet><objectSet><obj type="Datastore">'+n+"</obj><skip>false</skip></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(m(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0]))})},getVMFileDataFromDatastore:function(a,n,s,e,t,o,r){var i='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><SearchDatastore_Task xmlns="urn:vim25"><_this type="HostDatastoreBrowser">datastoreBrowser-'+e+"</_this><datastorePath>["+t+"]"+o+'</datastorePath><searchSpec><query xsi:type="FolderFileQuery" /><query /><details><fileType>true</fileType><fileSize>true</fileSize><modification>true</modification><fileOwner>false</fileOwner></details><matchPattern>'+r+"</matchPattern></searchSpec></SearchDatastore_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",i).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].SearchDatastore_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},getFilesDataFromDatastore:function(a,n,s,e,t,o){var r='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><SearchDatastore_Task xmlns="urn:vim25"><_this type="HostDatastoreBrowser">datastoreBrowser-'+e+"</_this><datastorePath>["+t+"]"+o+'</datastorePath><searchSpec><query xsi:type="FolderFileQuery" /><query /><details><fileType>true</fileType><fileSize>true</fileSize><modification>true</modification><fileOwner>false</fileOwner></details></searchSpec></SearchDatastore_Task></soap:Body></soap:Envelope>';return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",r).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].SearchDatastore_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},deleteFileFromDatastore:function(a,n,s,e,t,o){var r='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><DeleteDatastoreFile_Task xmlns="urn:vim25"><_this type="FileManager">FileManager</_this><name>['+e+"] "+t+'</name><datacenter type="Datacenter">'+o+"</datacenter></DeleteDatastoreFile_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",r).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].DeleteDatastoreFile_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},moveFileFromDatastore:function(a,n,s,e,t,o,r,i,p,l){var c='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><MoveDatastoreFile_Task xmlns="urn:vim25"><_this type="FileManager">FileManager</_this><sourceName>['+e+"] "+t+'</sourceName><sourceDatacenter type="Datacenter">'+o+"</sourceDatacenter><destinationName>["+r+"] "+i+'</destinationName><destinationDatacenter type="Datacenter">'+p+"</destinationDatacenter>"+(l?"<force>true</force>":"")+"</MoveDatastoreFile_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",c).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].MoveDatastoreFile_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},copyFileFromDatastore:function(a,n,s,e,t,o,r,i,p,l){var c='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><CopyDatastoreFile_Task xmlns="urn:vim25"><_this type="FileManager">FileManager</_this><sourceName>['+e+"] "+t+'</sourceName><sourceDatacenter type="Datacenter">'+o+"</sourceDatacenter><destinationName>["+r+"] "+i+'</destinationName><destinationDatacenter type="Datacenter">'+p+"</destinationDatacenter>"+(l?"<force>true</force>":"")+"</CopyDatastoreFile_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",c).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].CopyDatastoreFile_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},createFolderToDatastore:function(e,t,a,n,s,o){var r='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><MakeDirectory xmlns="urn:vim25"><_this type="FileManager">FileManager</_this><name>['+n+"] "+s+'</name><datacenter type="Datacenter">'+o+"</datacenter><createParentDirectories>true</createParentDirectories></MakeDirectory></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",r).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].MakeDirectoryResponse[0]})},mountDatastore:function(e,t,a,n,s,o,r){var i='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><CreateNasDatastore xmlns="urn:vim25"><_this type="HostDatastoreSystem">'+n+"</_this><spec><remoteHost>"+s+"</remoteHost><remotePath>/"+o+"/</remotePath><localPath>"+r+"</localPath><accessMode>readWrite</accessMode></spec></CreateNasDatastore></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",i).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].CreateNasDatastoreResponse[0].returnval[0]._)})},unmountDatastore:function(e,t,a,n,s){var o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RemoveDatastore xmlns="urn:vim25"><_this type="HostDatastoreSystem">'+n+'</_this><datastore type="Datastore">'+s+"</datastore></RemoveDatastore></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",o).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RemoveDatastoreResponse[0])})},getVMs:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?>\n<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n    <soap:Body>\n        <RetrieveProperties xmlns="urn:vim25">\n            <_this type="PropertyCollector">propertyCollector</_this>\n            <specSet>\n                <propSet>\n                    <type>VirtualMachine</type>\n                    <all>true</all>\n                </propSet>\n                <objectSet>\n                    <obj type="Folder">'+n+'</obj>\n                    <skip>true</skip>\n                    <selectSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="TraversalSpec">\n                        <name>visitFolders</name>\n                        <type>Folder</type>\n                        <path>childEntity</path>\n                        <skip>true</skip>\n                        <selectSet>\n                            <name>visitFolders</name>\n                        </selectSet>\n                        <selectSet xsi:type="TraversalSpec">\n                            <type>Datacenter</type>\n                            <path>datastore</path>\n                            <skip>false</skip>\n                            <selectSet xsi:type="TraversalSpec">\n                                <type>Datastore</type>\n                                <path>vm</path>\n                                <skip>false</skip>\n                            </selectSet>\n                        </selectSet>\n                        <selectSet xsi:type="TraversalSpec">\n                            <type>Datastore</type>\n                            <path>vm</path>\n                            <skip>false</skip>\n                        </selectSet>\n                    </selectSet>\n                </objectSet>\n            </specSet>\n        </RetrieveProperties>\n    </soap:Body>\n</soap:Envelope>';return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(e){t.push(m(e))}),f(t)})},getVMState:function(e,t,a,n,s){var o;return o=s?'<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>VirtualMachine</type><all>true</all></propSet><objectSet><obj type="VirtualMachine">'+n+"</obj><skip>false</skip></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>":'<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>VirtualMachine</type><all>false</all><pathSet>name</pathSet><pathSet>guest</pathSet><pathSet>runtime.powerState</pathSet><pathSet>summary.config</pathSet><pathSet>summary.quickStats</pathSet><pathSet>guestHeartbeatStatus</pathSet></propSet><objectSet><obj type="VirtualMachine">'+n+"</obj></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>",d.callVcenterSoap(e,t,a,"urn:vim25/6.0",o).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(m(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0]))})},getVMPath:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>VirtualMachine</type><all>false</all><pathSet>config.files.vmPathName</pathSet></propSet><objectSet><obj type="VirtualMachine">'+n+"</obj><skip>false</skip></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(m(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0]))})},getVMRuntime:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>VirtualMachine</type><all>false</all><pathSet>runtime</pathSet></propSet><objectSet><obj type="VirtualMachine">'+n+"</obj><skip>false</skip></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(m(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval[0]))})},queryVMEvents:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><QueryEvents xmlns="urn:vim25"><_this type="EventManager">EventManager</_this><filter><entity><entity type="VirtualMachine">'+n+"</entity><recursion>all</recursion></entity><time><beginTime>2018-05-23T16:35:17.165+02:00</beginTime></time></filter></QueryEvents></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].QueryEventsResponse[0].returnval,function(e){t.push(m(e))}),f(t)})},searchIndexVM:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><FindByUuid xmlns="urn:vim25"><_this type="SearchIndex">SearchIndex</_this><uuid>'+n+"</uuid><vmSearch>true</vmSearch><instanceUuid>false</instanceUuid></FindByUuid></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].FindByUuidResponse[0].returnval,function(e){t.push(m(e))}),f(t)})},registerVM:function(a,n,s,e,t,o,r,i){var p='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RegisterVM_Task xmlns="urn:vim25"><_this type="Folder">'+r+"</_this><path>"+t+"</path><name>"+o+'</name><asTemplate>false</asTemplate><pool type="ResourcePool">'+i+'</pool><host type="HostSystem">'+e+"</host></RegisterVM_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",p).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RegisterVM_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return"success"!==e[0].propSet.info.state?v(e[0].propSet.info):f(e[0].propSet.info)})})},unregisterVM:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><UnregisterVM xmlns="urn:vim25"><_this type="VirtualMachine">'+n+"</_this></UnregisterVM></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].UnregisterVMResponse[0])})},reconfigureVM:function(a,n,s,e,t){var o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><ReconfigVM_Task xmlns="urn:vim25"><_this type="VirtualMachine">'+e+"</_this><spec>"+t+"</spec></ReconfigVM_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",o).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].ReconfigVM_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return"success"!==e[0].propSet.info.state?v(e[0].propSet.info):f(e[0].propSet.info)})})},powerOnVM:function(a,n,s,e,t){var o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><PowerOnVM_Task xmlns="urn:vim25"><_this type="VirtualMachine">'+t+'</_this><host type="HostSystem">'+e+"</host></PowerOnVM_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",o).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].PowerOnVM_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},powerOffVM:function(a,n,s,e){var t='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><PowerOffVM_Task xmlns="urn:vim25"><_this type="VirtualMachine">'+e+"</_this></PowerOffVM_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",t).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].PowerOffVM_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},suspendVM:function(a,n,s,e){var t='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><SuspendVM_Task xmlns="urn:vim25"><_this type="VirtualMachine">'+e+"</_this></SuspendVM_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",t).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].SuspendVM_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},resetVM:function(a,n,s,e){var t='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><ResetVM_Task xmlns="urn:vim25"><_this type="VirtualMachine">'+e+"</_this></ResetVM_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",t).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].ResetVM_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},shutdownGuest:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><ShutdownGuest xmlns="urn:vim25"><_this type="VirtualMachine">'+n+"</_this></ShutdownGuest></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RebootGuestResponse[0])})},rebootGuest:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RebootGuest xmlns="urn:vim25"><_this type="VirtualMachine">'+n+"</_this></RebootGuest></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RebootGuestResponse[0])})},reloadVM:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><Reload xmlns="urn:vim25"><_this type="VirtualMachine">'+n+"</_this></Reload></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].ReloadResponse[0])})},createSnapShot:function(a,n,s,e,t,o,r,i){var p='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><CreateSnapshot_Task xmlns="urn:vim25"><_this type="VirtualMachine">'+e+"</_this><name>"+t+"</name><description>"+o+"</description><memory>"+r+"</memory><quiesce>"+i+"</quiesce></CreateSnapshot_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",p).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].CreateSnapshot_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},getVMSnapshots:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RetrieveProperties xmlns="urn:vim25"><_this type="PropertyCollector">propertyCollector</_this><specSet><propSet><type>VirtualMachine</type><all>false</all><pathSet>snapshot</pathSet></propSet><objectSet><obj type="VirtualMachine">'+n+"</obj><skip>false</skip></objectSet></specSet></RetrieveProperties></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RetrievePropertiesResponse[0].returnval,function(e){t.push(m(e))}),f(t)})},removeSnapshot:function(a,n,s,e,t){var o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RemoveSnapshot_Task xmlns="urn:vim25"><_this type="VirtualMachineSnapshot">'+e+"</_this><removeChildren>"+t+"</removeChildren></RemoveSnapshot_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",o).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RemoveSnapshot_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},revertToSnapshot:function(a,n,s,e){var t='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><RevertToSnapshot_Task xmlns="urn:vim25"><_this type="VirtualMachineSnapshot">'+e+"</_this></RevertToSnapshot_Task></soap:Body></soap:Envelope>";return d.callVcenterSoap(a,n,s,"urn:vim25/6.0",t).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].RevertToSnapshot_TaskResponse[0].returnval[0]._;return h(a,n,s,t).then(function(e){return f(e)})})},queryAvailablePerfMetric:function(e,t,a,n,s,o){var r='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><QueryAvailablePerfMetric xmlns="urn:vim25"><_this type="PerformanceManager">PerfMgr</_this><entity type="'+n+'">'+s+"</entity>"+(o?"<intervalId>"+o+"</intervalId>":"")+"</QueryAvailablePerfMetric></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",r).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].QueryAvailablePerfMetricResponse[0].returnval,function(e){t.push(m(e))}),f(t)})},queryPerfProviderSummary:function(e,t,a,n,s){var o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><QueryPerfProviderSummary xmlns="urn:vim25"><_this type="PerformanceManager">PerfMgr</_this><entity type="'+n+'">'+s+"</entity></QueryPerfProviderSummary></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",o).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].QueryPerfProviderSummaryResponse[0].returnval[0])})},queryPerfCounterByLevel:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><QueryPerfCounterByLevel xmlns="urn:vim25"><_this type="PerformanceManager">PerfMgr</_this><level>'+n+"</level></QueryPerfCounterByLevel></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){if("error"===e.data.status)return v(e.data.data);if(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"])return v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]);var t=[];return angular.forEach(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].QueryPerfCounterByLevelResponse[0].returnval,function(e){t.push(m(e))}),f(t)})},queryPerfCounter:function(e,t,a,n){var s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><QueryPerfCounter xmlns="urn:vim25"><_this type="PerformanceManager">PerfMgr</_this><counterId>'+n+"</counterId></QueryPerfCounter></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",s).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].QueryPerfCounterResponse[0].returnval[0])})},queryPerf:function(e,t,a,n,s,o,r,i){var p='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><QueryPerf xmlns="urn:vim25"><_this type="PerformanceManager">PerfMgr</_this><querySpec><entity type="'+n+'">'+s+"</entity>"+(o?"<startTime>"+o+"</startTime>":"")+(r?"<endTime>"+r+"</endTime>":"")+(i?"<maxSample>"+i+"</maxSample>":"")+"</querySpec></QueryPerf></soap:Body></soap:Envelope>";return d.callVcenterSoap(e,t,a,"urn:vim25/6.0",p).then(function(e){return"error"===e.data.status?v(e.data.data):e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"]?v(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0]["soapenv:Fault"][0].detail[0]):f(e.data.data.response["soapenv:Envelope"]["soapenv:Body"][0].QueryPerfResponse[0].returnval[0])})}}}])}(),function(){"use strict";SysOS.factory("remoteFileSystemFactory",["ServerFactory",function(s){return{getPath:function(e,t,a){return s.getRemotePath(e,t,function(e){return a(e.data.data)},function(e){console.log("Error: "+e)})},createFolder:function(e,t,a){return s.createRemoteFolder(e,t,function(e){return a(e.data.data)},function(e){console.log("Error: "+e)})},downloadFileFromInet:function(e,t,a,n){return s.remoteDownloadFileFromInet(e,t,a,function(e){return n(e)},function(e){console.log("Error: "+e)})},deleteFile:function(e,t,a){return s.deleteRemoteFile(e,t,function(e){return a(e.data.data)},function(e){console.log("Error: "+e)})},renameFile:function(e,t,a,n){return s.renameRemoteFile(e,t,a,function(e){return n(e.data.data)},function(e){console.log("Error: "+e)})},copyFile:function(e,t,a,n){return s.copyRemoteFile(e,t,a,function(e){return n(e.data.data)},function(e){console.log("Error: "+e)})},moveFile:function(e,t,a,n){return s.moveRemoteFile(e,t,a,function(e){return n(e.data.data)},function(e){console.log("Error: "+e)})}}}])}(),function(){"use strict";SysOS.factory("ServerFactory",["$http",function(s){var a=function(e,t,a){return s.get(e).then(t,a)},i=function(e,t,a,n){return s.post(e,t).then(a,n)};return{getSession:function(e,t){return a("/getSession",e,t)},getFileSystemPath:function(e,t,a){return i("/api/folder/get",{path:e},t,a)},getRemotePath:function(e,t,a,n){return i("/api/remoteFolder/get",{uuid:e,path:t},a,n)},createFolder:function(e,t,a){return i("/api/folder/create",e,t,a)},createRemoteFolder:function(e,t,a,n){return i("/api/remoteFolder/create",{uuid:e,path:t},a,n)},getFileContents:function(e,t,a){return i("/api/file/get",{name:e},t,a)},renameFile:function(e,t,a){return i("/api/file/rename",e,t,a)},renameRemoteFile:function(e,t,a,n,s){return i("/api/remoteFile/rename",{uuid:e,source:t,dest:a},n,s)},deleteFile:function(e,t,a){return i("/api/file/delete",e,t,a)},deleteRemoteFile:function(e,t,a,n){return i("/api/remoteFile/delete",{uuid:e,path:t},a,n)},downloadFileFromInet:function(e,t,a,n,s){return i("/api/file/download_from_url",{url:e,path:t,credential:a},n,s)},remoteDownloadFileFromInet:function(e,t,a,n,s){return i("/api/remoteFile/download_from_url",{url:e,path:t,uuid:a},n,s)},copyFile:function(e,t,a,n){return i("/api/file/copy",{src:e,dst:t},a,n)},copyRemoteFile:function(e,t,a,n,s){return i("/api/remoteFile/copy",{uuid:e,src:t,dst:a},n,s)},moveFile:function(e,t,a,n){return i("/api/file/move",{src:e,dst:t},a,n)},moveRemoteFile:function(e,t,a,n,s){return i("/api/remoteFile/move",{uuid:e,src:t,dst:a},n,s)},saveConfigToFile:function(e,t,a,n,s){return i("/api/configFiles/save",{data:e,file:t,full_save:a},n,s)},getConfigFile:function(e,t,a){return i("/api/configFiles/get",{file:e},t,a)},deleteConfigFromFile:function(e,t,a,n){return i("/api/configFiles/delete",{uuid:e,file:t},a,n)},applicationInitCredentials:function(e,t){return a("/application/cmanager/init",e,t)},remoteGetRelease:function(e,t,a){return i("/api/remoteServer/get_release",{uuid:e},t,a)},remoteGetKernel:function(e,t,a){return i("/api/remoteServer/get_kernel",{uuid:e},t,a)},remoteGetCpu:function(e,t,a){return i("/api/remoteServer/get_cpu",{uuid:e},t,a)},remoteGetMem:function(e,t,a){return i("/api/remoteServer/get_mem",{uuid:e},t,a)},remoteGetDisk:function(e,t,a){return i("/api/remoteServer/get_disk",{uuid:e},t,a)},remoteGetUpdates:function(e,t,a){return i("/api/remoteServer/get_updates",{uuid:e},t,a)},remoteGetProcesses:function(e,t,a){return i("/api/remoteServer/get_processes",{uuid:e},t,a)},remoteGetInterfaces:function(e,t,a){return i("/api/remoteServer/get_interfaces",{uuid:e},t,a)},remoteGetInterfaceBandwidth:function(e,t,a,n){return i("/api/remoteServer/get_interface_bandwidth",{uuid:e,interface:t},a,n)},runHIDS:function(e,t,a){return i("/api/remoteServer/run_hids",{uuid:e},t,a)},doPing:function(e,t,a,n){return i("/api/remoteServer/do_ping",{uuid:e,host:t},a,n)},remoteDoSnmp:function(e,t,a,n){return i("/api/remoteServer/do_snmp",{uuid:e,oid:t},a,n)},getVMwareClientVersion:function(e,t,a,n){return i("/api/vcenter/getClientVersion",{host:e,port:t},a,n)},connectVcenter:function(e,t,a,n,s){return i("/api/vcenter/connect",{host:e,credential:t,port:a},n,s)},connectvCenterSoap:function(e,t,a,n,s){return i("/api/vcenter/connectSoap",{credential:e,host:t,port:a},n,s)},callVcenter:function(e,t,a,n,s){return i("/api/vcenter/call",{host:e,port:t,path:a},n,s)},callVcenterSoap:function(e,t,a,n,s,o,r){return i("/api/vcenter/callSoap",{credential:e,host:t,port:a,action:n,xml:s},o,r)},callNetApp:function(e,t,a,n,s,o,r){return i("/api/netapp/call",{credential:e,host:t,port:a,path:n,xml:s},o,r)},saveCredential:function(e,t,a){return i("/api/credential/save",{credential:e},t,a)},deleteCredential:function(e,t,a){return i("/api/credential/delete",{uuid:e},t,a)}}}])}(),function(){"use strict";SysOS.factory("socket",["socketFactory",function(e){return e({ioSocket:io.connect("localhost")})}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/actions.html","<div ng-if=\"ACTIONS.app.actions == true\" ng-include=\"'templates/applications/actions-' + ACTIONS.app.id + '.html'\" include-replace></div>")}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/body.html","<div ng-include=\"'templates/applications/body-' + BODY.app.id + '.html'\" include-replace></div>")}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/main.html",'<div class="window window--{{::APP.appId}}" style="{{::APP.appData.style}}" ng-class="{\'window--active\': APP.isVisible(), \'window--closing\': APP.isClosing, \'window--opening\': APP.isOpening, \'window--minimized\': APP.isMinimized, \'window--maximized\': APP.isMaximized}">                   <div class="window__titlebar" ng-dblclick="APP.maximize()">                       <div class="window__controls window__controls--left" ng-click="APP.toggleMenu()">                   <a class="window__icon"><i class="fa fa-{{::APP.appData.ico}}"></i></a>                   <a class="window__menutoggle" ng-class="{\'window__menutoggle--open\': APP.isMenuOpened}"><i class="fa fa-bars"></i></a>                 </div>                 <span class="window__title">                   {{::APP.appData.name}}                 </span>                 <div class="window__controls window__controls--right">                   <a class="window__minimize" ng-click="APP.minimize()"><i class="fa fa-minus"></i></a>                   <a class="window__maximize" ng-click="APP.maximize()"><i class="fa"></i></a>                   <a class="window__close" ng-click="APP.close(); $event.stopPropagation();"><i class="fa fa-close"></i></a>                 </div>                   </div>               <window-menu app="APP.appData" is-menu-opened="APP.isMenuOpened"></window-menu>               <window-actions app="APP.appData"></window-actions>               <window-body app="APP.appData"></window-body>               <window-status app="APP.appData"></window-status>             </div>')}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/menu.html",'<ul class="window__menu" ng-class="{\'window__menu--open\': MENU.isMenuOpened}" ng-if="MENU.app.menu == true" ng-include="\'templates/applications/menu-\' + MENU.app.id + \'.html\'"></ul>')}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/applications/status.html","<div ng-if=\"STATUS.app.status == true\" ng-include=\"'templates/applications/status-' + STATUS.app.id + '.html'\" include-replace></div>")}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/desktop/start_menu.html",'<div class="start-menu" ng-class="{\'start-menu--open\' : $root.taskbar__item_open == \'start\'}">               <div class="start-menu__list">                 <div class="media">                   <a class="user-info menu-toggle"  ng-click="SM.openMenu(\'user\')">                     <img class="user-info__img media__img" src="/img/KkCqvK9.png" alt="User image">                     <div class="user-info__name media__body">                       User Name                     </div>                   </a>                   <div class="menu" style="top: 60.5px; left: 0px;" ng-show="SM.openedMenu == \'user\'">                     <a >Change account picture</a>                     <a >Lock</a>                     <a >Sign out</a>                   </div>                   <a class="user-info__power menu-toggle"  ng-click="SM.openMenu(\'power\')">                     <i class="fa fa-power-off"></i>                   </a>                 </div>                 <div class="menu" style="top: 60.5px; left: 188px;" ng-show="SM.openedMenu == \'power\'">                   <a >Sleep</a>                   <a >Power off</a>                   <a >Restart</a>                 </div>                 <ul class="start-menu__recent">                   <li ng-repeat="application in SM.applications | orderBy:\'name\'"" class="start-menu__{{::application.id}}" ng-click="SM.openApplication(application.id)" ng-if="application.id !== \'start\'" context-menu="SM.appContextMenu()">                     <a >                     <i class="fa fa-{{::application.ico}}"></i>                     {{::application.name}}                     </a>                   </li>                 </ul>                 <form class="search">                   <input type="text" class="search__input" placeholder="Search">                   <button class="search__btn"></button>                 </form>               </div>               <div class="start-screen-scroll">                 <div class="start-screen">                 <a class="start-screen__tile start-screen__tile--explorer masonry-item" >                   <i class="fa fa-folder"></i>                   <span>File Explorer</span>                 </a>                 <a class="start-screen__tile masonry-item" >                 </a>                 <a class="start-screen__tile start-screen__tile--wide masonry-item"   data-ss-colspan="2">                 </a>                 <div class="start-screen__smallgroup masonry-item">                   <a class="start-screen__tile start-screen__tile--small" ></a>                   <a class="start-screen__tile start-screen__tile--small" ></a>                   <a class="start-screen__tile start-screen__tile--small" ></a>                 </div>                 <a class="start-screen__tile masonry-item" >                 </a>                 <a class="start-screen__tile masonry-item" >                 </a>                 <a class="start-screen__tile start-screen__tile--notepad masonry-item" >                 </a>                 <a class="start-screen__tile start-screen__tile--large start-screen__tile--mail masonry-item"  data-ss-colspan="2">                   <i class="fa fa-envelope"></i>                   <span>Mail</span>                 </a>                 <a class="start-screen__tile masonry-item" >                 </a>                 <a class="start-screen__tile masonry-item" >                 </a>                 <a class="start-screen__tile masonry-item" >                 </a>                 </div>               </div>                 </div>')}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/desktop/task_bar.html",'<start-menu></start-menu>             <div class="taskbar" ui-sortable="TB.sortableOptions" ng-model="TB.taskbar_applications">                 <a ng-repeat="application in TB.taskbar_applications" class="taskbar__item taskbar__item--{{application.id}}" ng-click="TB.toggleApplication(application.id)" context-menu="TB.appContextMenu(application.id)" ng-class="{\'start--open\' : TB.isStartOpened(application.id), \'taskbar__item--open\' : TB.isItemOpened(application.id), \'taskbar__item--active\' : TB.isItemActive(application.id), \'not-sortable\': application.id == \'start\'}">                     <i class="fa fa-{{::TB.getApplicationById(application.id).ico}}"></i>                 </a>                 <div class="taskbar__minimize" ng-click="TB.minimizeToDesktop()"></div>                 <div class="taskbar__tray">                     <span class="time">{{TB.time}}</span>                 </div>             </div>')}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/utils/modals/input.html",'<div class="modal-header">               <div class="modal-title" id="modal-title">{{imC.title}}</div>               <div class="window__controls window__controls--right"><a class="window__close" ng-click="imC.close(); $event.stopPropagation();"><i class="fa fa-close"></i></a></div>             </div>             <div class="modal-body" id="modal-body">               <input type="text" class="form-control" set-focus placeholder="{{::imC.text}}" ng-model="imC.inputValue" />             </div>             <div class="modal-footer">               <button class="btn btn-primary" type="button" ng-click="imC.no()" autofocus>Cancel</button>               <button class="btn btn-default" type="button" ng-click="imC.yes()">{{::imC.button_text}}</button>             </div>')}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/utils/modals/plain.html",'<div class="modal-header">\n <div class="modal-title" id="modal-title">{{pmC.title}}</div>\n <div class="window__controls window__controls--right"><a class="window__close" ng-click="pmC.close(); $event.stopPropagation();"><i class="fa fa-close"></i></a></div>\n</div>\n<div class="modal-body" id="modal-body">\n <span>\n   {{pmC.text}}\n </span>\n</div>')}])}(),function(){"use strict";SysOS.run(["$templateCache",function(e){e.put("templates/utils/modals/question.html",'<div class="modal-header">               <div class="modal-title" id="modal-title">{{qmC.title}}</div>               <div class="window__controls window__controls--right"><a class="window__close" ng-click="qmC.close(); $event.stopPropagation();"><i class="fa fa-close"></i></a></div>             </div>             <div class="modal-body" id="modal-body">               {{::qmC.text}}             </div>             <div class="modal-footer">               <button class="btn btn-primary" type="button" ng-click="qmC.no()" autofocus>No</button>               <button class="btn btn-default" type="button" ng-click="qmC.yes()">Yes</button>             </div>')}])}();